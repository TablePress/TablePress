(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,r=window.wp.shortcode;var a=e.n(r);const l=JSON.parse('{"u2":"tablepress/table"}'),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.entries(e).map((e=>{let[t,r]=e,a="";return(/\s/.test(r)||""===r)&&(a='"'),r.includes('"')&&(a="'"),`${t}=${a}${r}${a}`})).join(" ");return t.forEach((e=>{/\s/.test(e)?r+=' "'+e+'"':r+=" "+e})),r},s={from:[{type:"shortcode",tag:tp.table.shortcode,attributes:{id:{type:"string",shortcode:e=>{let{named:{id:t=""}}=e;return t}},parameters:{type:"string",shortcode:e=>{let{named:{id:t,...r},numeric:[...a]}=e;return n(r,a)}}}},{type:"enter",regExp:a().regexp(tp.table.shortcode),transform:e=>{let{content:r}=e;const{named:{id:s="",...o},numeric:[...c]}=a().next(tp.table.shortcode,r).shortcode.attrs,i=n(o,c);return(0,t.createBlock)(l.u2,{id:s,parameters:i})}},{type:"block",blocks:["core/shortcode"],transform:e=>{let{text:r}=e;const{named:{id:s="",...o},numeric:[...c]}=a().next(tp.table.shortcode,r).shortcode.attrs,i=n(o,c);return(0,t.createBlock)(l.u2,{id:s,parameters:i})},isMatch:e=>{let{text:t}=e;return void 0!==a().next(tp.table.shortcode,t)},isMultiBlock:!1}],to:[{type:"block",blocks:["core/shortcode"],transform:e=>{let{id:r,parameters:a}=e;a=a.trim(),""!==a&&(a+=" ");const l=`[${tp.table.shortcode} id=${r} ${a}/]`;return(0,t.createBlock)("core/shortcode",{text:l})}}]},o=window.wp.element,c=window.wp.i18n,i=window.wp.serverSideRender;var p=e.n(i);const d=window.wp.blockEditor,b=window.wp.components,u=Object.entries(tp.tables).map((e=>{let[t,r]=e;return{value:t,label:(0,c.sprintf)((0,c.__)("ID %1$s: “%2$s”","tablepress"),t,r)}})),m=function(){return""!==tp.url&&(0,o.createElement)(b.ExternalLink,{href:tp.url},(0,c.__)("Manage your tables.","tablepress"))};let h=null;const w=Object.keys(tp.tables);w.length&&(h={attributes:{id:w[Math.floor(Math.random()*w.length)],parameters:""}});const _=h;(0,t.registerBlockType)(l.u2,{transforms:s,edit:function(e){let{attributes:t,setAttributes:r}=e;const s=(0,d.useBlockProps)();let i;i=t.id&&tp.tables.hasOwnProperty(t.id)?(0,o.createElement)("div",s,tp.load_block_preview&&(0,o.createElement)(p(),{block:l.u2,attributes:t,className:"render-wrapper"}),(0,o.createElement)("div",{className:"table-overlay"},(0,c.sprintf)((0,c.__)("TablePress table %1$s: “%2$s”","tablepress"),t.id,tp.tables[t.id]))):(0,o.createElement)("div",s,(0,o.createElement)(b.Placeholder,{icon:(0,o.createElement)(b.Icon,{icon:"list-view"}),label:(0,c.__)("TablePress table","tablepress"),instructions:(0,o.createElement)(o.Fragment,null,t.id&&(0,c.sprintf)((0,c.__)("There is a problem: The TablePress table with the ID “%1$s” could not be found.","tablepress"),t.id)+" ",0<u.length?(0,c.__)("Select the TablePress table that you want to embed in the Settings sidebar.","tablepress"):(0,c.__)("There are no TablePress tables on this site yet.","tablepress"))},(0,o.createElement)(m,null)));const h=(0,o.createElement)(o.Fragment,null,(0,o.createElement)(d.InspectorControls,null,(0,o.createElement)(b.PanelBody,{opened:!0},0<u.length?(0,o.createElement)(b.ComboboxControl,{label:(0,c.__)("Table:","tablepress"),help:(0,o.createElement)(o.Fragment,null,(0,c.__)("Select the TablePress table that you want to embed.","tablepress"),""!==tp.url&&" ",(0,o.createElement)(m,null)),value:t.id,options:u,onChange:e=>{var t;null!==(t=e)&&void 0!==t||(e=""),r({id:e.replace(/[^0-9a-zA-Z-_]/g,"")})}}):(0,o.createElement)(o.Fragment,null,(0,c.__)("There are no TablePress tables on this site yet.","tablepress"),""!==tp.url&&" ",(0,o.createElement)(m,null)))),t.id&&tp.tables.hasOwnProperty(t.id)&&(0,o.createElement)(d.InspectorAdvancedControls,null,(0,o.createElement)(b.TextControl,{label:(0,c.__)("Configuration parameters:","tablepress"),help:(0,c.__)("These additional parameters can be used to modify specific table features.","tablepress")+" "+(0,c.__)("See the TablePress Documentation for more information.","tablepress"),value:t.parameters,onChange:e=>{e=a().replace(tp.table.shortcode,e,(e=>{let{attrs:{named:{id:t,...r},numeric:[...a]}}=e;return" "+n(r,a)+" "})),r({parameters:e})}})));return(0,o.createElement)(o.Fragment,null,i,h)},save:function(e){let{attributes:{id:t="",parameters:r=""}}=e;if(""!==t)return r=r.trim(),""!==r&&(r+=" "),(0,o.createElement)(o.RawHTML,null,`[${tp.table.shortcode} id=${t} ${r}/]`)},example:_})})();