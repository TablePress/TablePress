window.CodeMirror=function(){function n(a,b){function c(d){(!h.onDragEvent||!h.onDragEvent(C,Wa(d)))&&jb(d)}function e(d){return 0<=d&&d<s.size}function g(d){for(var a=s;!a.lines;)for(var k=0;;++k){var b=a.children[k],D=b.chunkSize();if(d<D){a=b;break}d-=D}return a.lines[d]}function i(d,a){na=!0;for(var k=a-d.height,b=d;b;b=b.parent)b.height+=k}function l(d,a){d.styles||d.highlight(Q,d.stateAfter=Xa(La(d)),h.tabSize);return d.getContent(h.tabSize,a,h.lineWrapping)}function A(d){var a={line:0,ch:0};
pc(a,{line:s.size-1,ch:g(s.size-1).text.length},kb(d),a,a);xa=!0}function w(d){if(!h.onDragEvent||!h.onDragEvent(C,Wa(d))){G(d);var a=Ya(d,!0),k=d.dataTransfer.files;if(a&&!h.readOnly)if(k&&k.length&&window.FileReader&&window.File)for(var b=k.length,D=Array(b),c=0,d=function(d,k){var j=new FileReader;j.onload=function(){D[k]=j.result;++c==b&&(a=z(a),m(function(){var d=V(D.join(""),a,a);ka(a,d)})())};j.readAsText(d)},j=0;j<b;++j)d(k[j],j);else if(!lb||M(a,f.from)||M(f.to,a))try{(D=d.dataTransfer.getData("Text"))&&
qc(function(){var d=f.from,k=f.to;ka(a,a);lb&&V("",d,k);R(D);$()})}catch(g){}}}function Rb(d){var a=Sb();d.dataTransfer.setData("Text",a);d.dataTransfer.setDragImage&&d.dataTransfer.setDragImage(r("img"),0,0)}function mb(d,a){if("string"==typeof d&&(d=Tb[d],!d))return!1;var k=la;try{h.readOnly&&(nb=!0),a&&(la=null),d(C)}catch(b){if(b!=rc)throw b;return!1}finally{la=k,nb=!1}return!0}function sc(d){function a(){j=!0}var k=Ub(h.keyMap),b=k.auto;clearTimeout(tc);var D;if(D=b)D=Fa[I(d,"keyCode")],D=!("Ctrl"==
D||"Alt"==D||"Shift"==D||"Mod"==D);D&&(tc=setTimeout(function(){Ub(h.keyMap)==k&&(h.keyMap=b.call?b.call(null,C):b)},50));D=Fa[I(d,"keyCode")];var c=!1,c=ya&&ob;if(null==D||d.altGraphKey)return!1;I(d,"altKey")&&(D="Alt-"+D);if(I(d,c?"metaKey":"ctrlKey"))D="Ctrl-"+D;if(I(d,c?"ctrlKey":"metaKey"))D="Cmd-"+D;var j=!1,c=I(d,"shiftKey")?pb("Shift-"+D,h.extraKeys,h.keyMap,function(d){return mb(d,!0)},a)||pb(D,h.extraKeys,h.keyMap,function(d){if("string"==typeof d&&/^go[A-Z]/.test(d))return mb(d)},a):pb(D,
h.extraKeys,h.keyMap,mb,a);j&&(c=!1);c&&(G(d),qb(),Ga&&(d.oldKeyCode=d.keyCode,d.keyCode=0));return c}function uc(d){aa||S();Ga&&27==d.keyCode&&(d.returnValue=!1);Ma&&W()&&(Ma=!1);if(!h.onKeyEvent||!h.onKeyEvent(C,Wa(d))){var a=I(d,"keyCode");Ka(16==a||I(d,"shiftKey"));var k=sc(d);ya&&(Vb=k?a:null,!k&&(88==a&&I(d,ob?"metaKey":"ctrlKey"))&&R(""))}}function S(){if("nocursor"!=h.readOnly){if(!aa){if(h.onFocus)h.onFocus(C);aa=!0;-1==p.className.search(/\bCodeMirror-focused\b/)&&(p.className+=" CodeMirror-focused")}ga();
qb()}}function N(){if(aa){if(h.onBlur)h.onBlur(C);aa=!1;za&&m(function(){za&&(za(),za=null)})();p.className=p.className.replace(" CodeMirror-focused","")}clearInterval(Wb);setTimeout(function(){aa||(la=null)},150)}function pc(d,a,k,b,c){if(!nb){var F=[];s.iter(d.line,a.line+1,function(d){F.push(Za(d.text,d.markedSpans))});if(O)for(O.addChange(d.line,k.length,F);O.done.length>h.undoDepth;)O.done.shift();var j=K(F[0]),g=K(J(F)),e=d.ch,f=a.ch;if(j||g){if(j)for(var i=0,t;i<j.length;++i){var q=j[i],l=
q.marker;if(null==q.from||(l.inclusiveLeft?q.from<=e:q.from<e)||"bookmark"==l.type&&q.from==e&&void 0!=q.from){var p=null==q.to||(l.inclusiveRight?q.to>=e:q.to>e);(t||(t=[])).push({from:q.from,to:p?null:q.to,marker:l})}}j=t;if(g)for(var i=0,B;i<g.length;++i)if(t=g[i],q=t.marker,null==t.to||(q.inclusiveRight?t.to>=f:t.to>f)||"bookmark"==q.type&&t.from==f)l=null==t.from||(q.inclusiveLeft?t.from<=f:t.from<f),(B||(B=[])).push({from:l?null:t.from-f,to:null==t.to?null:t.to-f,marker:q});g=B;B=1==k.length;
i=J(k).length+(B?e:0);if(j)for(f=0;f<j.length;++f)t=j[f],null==t.to&&((q=rb(g,t.marker))?B&&(t.to=null==q.to?null:q.to+i):t.to=e);if(g)for(f=0;f<g.length;++f)t=g[f],null!=t.to&&(t.to+=i),null==t.from?(q=rb(j,t.marker),q||(t.from=i,B&&(j||(j=[])).push(t))):(t.from+=i,B&&(j||(j=[])).push(t));e=[Za(k[0],j)];if(!B){B=k.length-2;var m;if(0<B&&j)for(f=0;f<j.length;++f)null==j[f].to&&(m||(m=[])).push({from:null,to:null,marker:j[f].marker});for(f=0;f<B;++f)e.push(Za(k[f+1],m));e.push(Za(J(k),g))}k=e}va(d,
a,k,b,c)}}function P(d,a){if(d.length){for(var k=d.pop(),b=[],c=k.length-1;0<=c;c-=1){var F=k[c],j=[],f=F.start+F.added;s.iter(F.start,f,function(d){j.push(Za(d.text,d.markedSpans))});b.push({start:F.start,added:F.old.length,old:j});var e=F.start+F.old.length-1,h;h=T(J(j));var i=T(J(F.old));if(i)if(h){for(var l=h.length,q=i.length;0<=l&&0<=q&&h.charAt(l)==i.charAt(q);--l,--q);h=q+1}else h=i.length;else h=0;e={line:e,ch:h};va({line:F.start,ch:0},{line:f-1,ch:g(f-1).text.length},F.old,e,e)}xa=!0;a.push(b)}}
function va(d,a,k,b,c){if(!nb){var F=!1,j=oa.text.length;h.lineWrapping||s.iter(d.line,a.line+1,function(d){if(!d.hidden&&d.text.length==j)return F=!0});if(d.line!=a.line||1<k.length)na=!0;var e=a.line-d.line,ja=g(d.line),l=g(a.line),m=J(k);if(0==d.ch&&0==a.ch&&""==T(m)){for(var t=[],q=0,n=k.length-1;q<n;++q)t.push(new Na(T(k[q]),K(k[q])));l.update(l.text,K(m));e&&s.remove(d.line,e,$a);t.length&&s.insert(d.line,t)}else if(ja==l)if(1==k.length)ja.update(ja.text.slice(0,d.ch)+T(k[0])+ja.text.slice(a.ch),
K(k[0]));else{t=[];q=1;for(n=k.length-1;q<n;++q)t.push(new Na(T(k[q]),K(k[q])));t.push(new Na(T(m)+ja.text.slice(a.ch),K(m)));ja.update(ja.text.slice(0,d.ch)+T(k[0]),K(k[0]));s.insert(d.line+1,t)}else if(1==k.length)ja.update(ja.text.slice(0,d.ch)+T(k[0])+l.text.slice(a.ch),K(k[0])),s.remove(d.line+1,e,$a);else{t=[];ja.update(ja.text.slice(0,d.ch)+T(k[0]),K(k[0]));l.update(T(m)+l.text.slice(a.ch),K(m));q=1;for(n=k.length-1;q<n;++q)t.push(new Na(T(k[q]),K(k[q])));1<e&&s.remove(d.line+1,e-1,$a);s.insert(d.line+
1,t)}if(h.lineWrapping){var r=Math.max(5,p.clientWidth/Xb()-3);s.iter(d.line,d.line+k.length,function(d){if(!d.hidden){var a=Math.ceil(d.text.length/r)||1;a!=d.height&&i(d,a)}})}else s.iter(d.line,d.line+k.length,function(d){var a=d.text;!d.hidden&&a.length>j&&(oa=d,j=a.length,sb=!0,F=!1)}),F&&(ab=!0);ca=Math.min(ca,d.line);tb(400);e=k.length-e-1;ra.push({from:d.line,to:a.line+1,diff:e});if(h.onChange){for(q=0;q<k.length;++q)"string"!=typeof k[q]&&(k[q]=k[q].text);d={from:d,to:a,text:k};if(Oa){for(k=
Oa;k.next;k=k.next);k.next=d}else Oa=d}bb(z(b),z(c),f.from.line<=Math.min(a.line,a.line+e)?f.from.line:f.from.line+e,f.to.line<=Math.min(a.line,a.line+e)?f.to.line:f.to.line+e)}}function da(){var d=s.height*pa()+2*E.offsetTop;return 0.99*d>p.offsetHeight?d:!1}function ba(d){var a=da();u.style.display=a?"block":"none";a?(vc.style.height=qa.style.minHeight=a+"px",u.style.height=p.clientHeight+"px",null!=d&&(u.scrollTop=p.scrollTop=d,ub&&setTimeout(function(){u.scrollTop==d&&(u.scrollTop=d+(d?-1:1),
u.scrollTop=d)},0))):qa.style.minHeight="";vb.style.top=Pa*pa()+"px"}function wc(){oa=g(0);sb=!0;var d=oa.text.length;s.iter(1,s.size,function(a){var k=a.text;!a.hidden&&k.length>d&&(d=k.length,oa=a)});ab=!1}function V(d,a,k){function b(ma){if(M(ma,a))return ma;if(!M(k,ma))return c;var j=ma.line+d.length-(k.line-a.line)-1,e=ma.ch;ma.line==k.line&&(e+=J(d).length-(k.ch-(k.line==a.line?a.ch:0)));return{line:j,ch:e}}var a=z(a),k=k?z(k):a,d=kb(d),c;ha(d,a,k,function(d){c=d;return{from:b(f.from),to:b(f.to)}});
return c}function R(d,a){ha(kb(d),f.from,f.to,function(d){return"end"==a?{from:d,to:d}:"start"==a?{from:f.from,to:f.from}:{from:f.from,to:d}})}function ha(d,a,k,b){var c=1==d.length?d[0].length+a.ch:J(d).length,b=b({line:a.line+d.length-1,ch:c});pc(a,k,d,b.from,b.to)}function xc(d,a,k){var b=d.line,c=a.line;if(b==c)return g(b).text.slice(d.ch,a.ch);var e=[g(b).text.slice(d.ch)];s.iter(b+1,c,function(d){e.push(d.text)});e.push(g(c).text.slice(0,a.ch));return e.join(k||"\n")}function Sb(d){return xc(f.from,
f.to,d)}function ga(){Ma||Yb.set(h.pollInterval,function(){W();aa&&ga()})}function cb(){function d(){!W()&&!a?(a=!0,Yb.set(60,d)):(Ma=!1,ga())}var a=!1;Ma=!0;Yb.set(20,d)}function W(){if(!aa||Pc(x)||h.readOnly)return!1;var d=x.value;if(d==ia)return!1;wb||yc();la=null;for(var a=0,k=Math.min(ia.length,d.length);a<k&&ia[a]==d[a];)++a;a<ia.length?f.from={line:f.from.line,ch:f.from.ch-(ia.length-a)}:xb&&y(f.from,f.to)&&(f.to={line:f.to.line,ch:Math.min(g(f.to.line).text.length,f.to.ch+(d.length-a))});
R(d.slice(a),"end");1E3<d.length?x.value=ia="":ia=d;wb||zc();return!0}function yb(d){y(f.from,f.to)?d&&(ia=x.value=""):(ia="",x.value=Sb(),aa&&(d=x,Zb?(d.selectionStart=0,d.selectionEnd=d.value.length):d.select()))}function $(){"nocursor"!=h.readOnly&&x.focus()}function Ac(){var d=sa(f.inverted?f.from:f.to);return{x:h.lineWrapping?Math.min(d.x,E.offsetWidth):d.x,y:d.y,yBot:d.yBot}}function Bc(d,a,k,b){d=Cc(d,a,k,b);null!=d.scrollLeft&&(p.scrollLeft=d.scrollLeft);null!=d.scrollTop&&(u.scrollTop=p.scrollTop=
d.scrollTop)}function Cc(d,a,k,b){var c=E.offsetLeft,e=E.offsetTop,a=a+e,b=b+e,d=d+c,k=k+c,j=p.clientHeight,f=u.scrollTop,g={},i=da()||Infinity,l=a<e+10,e=b+e>i-10;a<f?g.scrollTop=l?0:Math.max(0,a):b>f+j&&(g.scrollTop=(e?i:b)-j);a=p.clientWidth;b=p.scrollLeft;j=h.fixedGutter?Z.clientWidth:0;c=d<j+c+10;d<b+j||c?(c&&(d=0),g.scrollLeft=Math.max(0,d-10-j)):k>a+b-3&&(g.scrollLeft=k+10-a);return g}function Da(d){var a=pa(),k=(null!=d?d:u.scrollTop)-E.offsetTop,d=Math.max(0,Math.floor(k/a)),a=Math.ceil((k+
p.clientHeight)/a);return{from:$b(s,d),to:$b(s,a)}}function Aa(d,a,k){function b(){var d=ea.firstChild,a=!1;s.iter(H,L,function(k){if(d){if(!k.hidden){var b=Math.round(d.offsetHeight/v)||1;k.height!=b&&(i(k,b),na=a=!0)}d=d.nextSibling}});return a}if(p.clientWidth){var c=Da(k);if(!0!==d&&0==d.length&&c.from>H&&c.to<L)ba(k);else{var e=Math.max(c.from-100,0),j=Math.min(s.size,c.to+100);H<e&&20>e-H&&(e=H);L>j&&20>L-j&&(j=Math.min(s.size,L));if(!0===d)d=[];else{for(var c=[{from:H,to:L,domStart:0}],f=0,
g=d.length||0;f<g;++f){for(var m=d[f],n=[],t=m.diff||0,q=0,x=c.length;q<x;++q){var A=c[q];m.to<=A.from&&m.diff?n.push({from:A.from+t,to:A.to+t,domStart:A.domStart}):m.to<=A.from||m.from>=A.to?n.push(A):(m.from>A.from&&n.push({from:A.from,to:m.from,domStart:A.domStart}),m.to<A.to&&n.push({from:m.to+t,to:A.to+t,domStart:A.domStart+(m.to-A.from)}))}c=n}d=c}for(var B=d,c=d=0;c<B.length;++c)f=B[c],f.from<e&&(f.domStart+=e-f.from,f.from=e),f.to>j&&(f.to=j),f.from>=f.to?B.splice(c--,1):d+=f.to-f.from;if(d==
j-e&&e==H&&j==L)ba(k);else{B.sort(function(d,a){return d.domStart-a.domStart});var v=pa(),d=Z.style.display;ea.style.display="none";c=e;f=j;g=function(d){var a=d.nextSibling;d.parentNode.removeChild(d);return a};if(B.length){for(var m=0,u=ea.firstChild,n=0;n<B.length;++n){for(t=B[n];t.domStart>m;)u=g(u),m++;for(var W=0,t=t.to-t.from;W<t;++W)u=u.nextSibling,m++}for(;u;)u=g(u)}else Ha(ea);var z=B.shift(),u=ea.firstChild,W=c;s.iter(c,f,function(d){z&&z.to==W&&(z=B.shift());if(!z||z.from>W){if(d.hidden)var a=
r("pre");else a=l(d),d.className&&(a.className=d.className),d.bgClassName&&(d=r("pre","\u00a0",d.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2"),a=r("div",[d,a],null,"position: relative"));ea.insertBefore(a,u)}else u=u.nextSibling;++W});ea.style.display=Z.style.display="";(c=e!=H||j!=L||Dc!=p.clientHeight+v)&&(Dc=p.clientHeight+v);(e!=H||j!=L&&h.onViewportChange)&&setTimeout(function(){if(h.onViewportChange)h.onViewportChange(C,e,j)});H=e;L=j;Pa=ac(s,e);tb(100);
if(ea.childNodes.length!=L-H)throw Error("BAD PATCH! "+JSON.stringify(B)+" size="+(L-H)+" nodes="+ea.childNodes.length);h.lineWrapping&&b();Z.style.display=d;(c||na)&&wa()&&h.lineWrapping&&b()&&wa();ba(k);Ea();if(!a&&h.onUpdate)h.onUpdate(C);return!0}}}else H=L=Pa=0}function wa(){if(h.gutter||h.lineNumbers){var d=vb.offsetHeight,a=p.clientHeight;Z.style.height=(2>d-a?a:d)+"px";var k=document.createDocumentFragment(),b=H,c;s.iter(H,Math.max(L,H+1),function(d){if(d.hidden)k.appendChild(r("pre"));else{var a=
d.gutterMarker,Y=h.lineNumbers?h.lineNumberFormatter(b+h.firstLineNumber):null;a&&a.text?Y=a.text.replace("%N%",null!=Y?Y:""):null==Y&&(Y="\u00a0");var e=k.appendChild(r("pre",null,a&&a.style));e.innerHTML=Y;for(Y=1;Y<d.height;++Y)e.appendChild(r("br")),e.appendChild(document.createTextNode("\u00a0"));a||(c=b)}++b});Z.style.display="none";Ha(Qa).appendChild(k);if(null!=c&&h.lineNumbers){for(var d=Qa.childNodes[c-H],a=String(s.size).length,e=d.firstChild.textContent||d.firstChild.innerText||d.firstChild.nodeValue||
"",f="";e.length+f.length<a;)f+="\u00a0";f&&d.insertBefore(document.createTextNode(f),d.firstChild)}Z.style.display="";d=2<Math.abs((parseInt(E.style.marginLeft)||0)-Z.offsetWidth);E.style.marginLeft=Z.offsetWidth+"px";na=!1;return d}}function Ea(){var d=y(f.from,f.to),a=sa(f.from,!0),b=d?a:sa(f.to,!0),c=f.inverted?a:b,e=pa(),g=Ra(X),j=Ra(ea);Ia.style.top=Math.max(0,Math.min(p.offsetHeight,c.y+j.top-g.top))+"px";Ia.style.left=Math.max(0,Math.min(p.offsetWidth,c.x+j.left-g.left))+"px";if(d)U.style.top=
c.y+"px",U.style.left=(h.lineWrapping?Math.min(c.x,E.offsetWidth):c.x)+"px",U.style.display="",zb.style.display="none";else{var d=a.y==b.y,i=document.createDocumentFragment(),l=E.clientWidth||E.offsetWidth,c=E.clientHeight||E.offsetHeight,g=function(d,a,b,k){i.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+d+"px; top: "+a+"px; "+(Qc?"width: "+(!b?l:l-b-d)+"px":"right: "+b+"px")+"; height: "+k+"px"))};f.from.ch&&0<=a.y&&g(a.x,a.y,d?l-b.x:0,e);a=Math.max(0,a.y+(f.from.ch?
e:0));j=Math.min(b.y,c)-a;j>0.2*e&&g(0,a,0,j);(!d||!f.from.ch)&&b.y<c-0.5*e&&g(0,b.y,l-b.x,e);Ha(zb).appendChild(i);U.style.display="none";zb.style.display=""}}function Ka(d){la=d?la||(f.inverted?f.to:f.from):null}function ka(d,a){var b=la&&z(la);b&&(M(b,d)?d=b:M(a,b)&&(a=b));bb(d,a);Ab=!0}function bb(d,a,b,c){Bb=null;null==b&&(b=f.from.line,c=f.to.line);if(!y(f.from,d)||!y(f.to,a)){if(M(a,d))var e=a,a=d,d=e;d.line!=b&&((b=ua(d,b,f.from.ch))?d=b:bc(d.line,!1));a.line!=c&&(a=ua(a,c,f.to.ch));y(d,a)?
f.inverted=!1:y(d,f.to)?f.inverted=!1:y(a,f.from)&&(f.inverted=!0);if(h.autoClearEmptyLines&&y(f.from,f.to)&&(f.inverted?d:a).line!=f.from.line&&f.from.line<s.size){var F=g(f.from.line);/^\s+$/.test(F.text)&&setTimeout(m(function(){if(F.parent&&/^\s+$/.test(F.text)){var d=La(F);V("",{line:d,ch:0},{line:d,ch:F.text.length})}},10))}f.from=d;f.to=a;Ba=!0}}function ua(d,a,b){function c(a){for(var Y=d.line+a,e=1==a?s.size:-1;Y!=e;){var ma=g(Y);if(!ma.hidden){a=d.ch;if(f||a>b||a>ma.text.length)a=ma.text.length;
return{line:Y,ch:a}}Y+=a}}var e=g(d.line),f=d.ch==e.text.length&&d.ch!=b;return!e.hidden?d:d.line>=a?c(1)||c(-1):c(-1)||c(1)}function Ca(d,a,b){d=z({line:d,ch:a||0});(b?ka:bb)(d,d)}function Cb(d){return Math.max(0,Math.min(d,s.size-1))}function z(d){if(0>d.line)return{line:0,ch:0};if(d.line>=s.size)return{line:s.size-1,ch:g(s.size-1).text.length};var a=d.ch,b=g(d.line).text.length;return null==a||a>b?{line:d.line,ch:b}:0>a?{line:d.line,ch:0}:d}function Ja(d,a){function b(a){if(h==(0>d?0:j.text.length)){if(a=
!a)a:{for(var a=e+d,k=0>d?-1:s.size;a!=k;a+=d){var c=g(a);if(!c.hidden){e=a;j=c;a=!0;break a}}a=void 0}if(a)h=0>d?j.text.length:0;else return!1}else h+=d;return!0}var c=f.inverted?f.from:f.to,e=c.line,h=c.ch,j=g(e);if("char"==a)b();else if("column"==a)b(!0);else if("word"==a)for(c=!1;!(0>d)||b();){if(Db(j.text.charAt(h)))c=!0;else if(c){0>d&&(d=1,b());break}if(0<d&&!b())break}return{line:e,ch:h}}function Va(d){var a=g(d.line).text,b=d.ch,c=d.ch;if(a){!1===d.after||c==a.length?--b:++c;for(var e=a.charAt(b),
e=Db(e)?Db:/\s/.test(e)?function(d){return/\s/.test(d)}:function(d){return!/\s/.test(d)&&!Db(d)};0<b&&e(a.charAt(b-1));)--b;for(;c<a.length&&e(a.charAt(c));)++c}return{from:{line:d.line,ch:b},to:{line:d.line,ch:c}}}function Eb(d,a){a||(a="add");if("smart"==a)if(Q.indent)var b=Xa(d);else a="prev";var c=g(d),e=c.indentation(h.tabSize),f=c.text.match(/^\s*/)[0],j;"smart"==a&&(j=Q.indent(b,c.text.slice(f.length),c.text),j==rc&&(a="prev"));"prev"==a?j=d?g(d-1).indentation(h.tabSize):0:"add"==a?j=e+h.indentUnit:
"subtract"==a&&(j=e-h.indentUnit);j=Math.max(0,j);b="";c=0;if(h.indentWithTabs)for(e=Math.floor(j/h.tabSize);e;--e)c+=h.tabSize,b+="\t";c<j&&(b+=Ec(j-c));b!=f&&V(b,{line:d,ch:0},{line:d,ch:f.length})}function gb(){Q=n.getMode(h,h.mode);s.iter(0,s.size,function(d){d.stateAfter=null});ca=0;tb(100)}function Qb(){if(h.lineWrapping){X.className+=" CodeMirror-wrap";var d=p.clientWidth/Xb()-3;s.iter(0,s.size,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/d)||1;1!=b&&i(a,b)}});E.style.minWidth=Fb.style.left=
""}else X.className=X.className.replace(" CodeMirror-wrap",""),wc(),s.iter(0,s.size,function(d){1!=d.height&&!d.hidden&&i(d,1)});ra.push({from:0,to:s.size})}function hb(){p.className=p.className.replace(/\s*cm-s-\S+/g,"")+h.theme.replace(/(^|\s)\s*/g," cm-s-")}function ib(){var d=fa[h.keyMap].style;X.className=X.className.replace(/\s*cm-keymap-\S+/g,"")+(d?" cm-keymap-"+d:"")}function Gb(d,a){this.lines=[];this.type=d;a&&(this.style=a)}function cc(d,a,b,c){var d=z(d),a=z(a),e=new Gb("range",b);if(c)for(var f in c)c.hasOwnProperty(f)&&
(e[f]=c[f]);var g=d.line;s.iter(g,a.line+1,function(b){var c={from:g==d.line?d.ch:null,to:g==a.line?a.ch:null,marker:e};(b.markedSpans||(b.markedSpans=[])).push(c);e.lines.push(b);++g});ra.push({from:d.line,to:a.line+1});return e}function Fc(a,b){var c=a,e=a;"number"==typeof a?e=g(Cb(a)):c=La(a);if(null!=c&&b(e,c))ra.push({from:c,to:c+1});else return null;return e}function bc(a,b){return Fc(a,function(a,d){if(a.hidden!=b){a.hidden=b;h.lineWrapping||(b&&a.text.length==oa.text.length?ab=!0:!b&&a.text.length>
oa.text.length&&(oa=a,ab=!1));i(a,b?0:1);var c=f.from.line,e=f.to.line;if(b&&(c==d||e==d)){c=c==d?ua({line:c,ch:0},c,0):f.from;e=e==d?ua({line:e,ch:0},e,0):f.to;if(!e)return;bb(c,e)}return na=!0}})}function dc(a,b){if(0==b)return{top:0,left:0};h.lineWrapping&&b<a.text.length&&Hb.test(a.text.slice(b-1,b+1));var c=l(a,b);Ha(Sa).appendChild(c);var c=c.anchor,e=c.offsetTop,f=c.offsetLeft;Ga&&(0==e&&0==f)&&(e=r("span","x"),c.parentNode.insertBefore(e,c.nextSibling),e=e.offsetTop);return{top:e,left:f}}
function sa(a,b){var c,e=pa(),f=e*(ac(s,a.line)-(b?Pa:0));if(0==a.ch)c=0;else{var i=dc(g(a.line),a.ch);c=i.left;h.lineWrapping&&(f+=Math.max(0,i.top))}return{x:c,y:f,yBot:f+e}}function Ib(a,b){function c(a){a=dc(l,a);if(n){var d=Math.round(a.top/e);t=d!=A;return Math.max(0,a.left+(d-A)*p.clientWidth)}return a.left}var e=pa(),f=Xb(),i=Pa+Math.floor(b/e);if(0>i)return{line:0,ch:0};var j=$b(s,i);if(j>=s.size)return{line:s.size-1,ch:g(s.size-1).text.length};var l=g(j),m=l.text,n=h.lineWrapping,A=n?i-
ac(s,j):0;if(0>=a&&0==A)return{line:j,ch:0};for(var t=!1,q=i=0,m=m.length,r,f=Math.min(m,Math.ceil((a+0.9*A*p.clientWidth)/f));;){var u=c(f);if(u<=a&&f<m)f=Math.min(m,Math.ceil(1.2*f));else{r=u;m=f;break}}if(a>r)return{line:j,ch:m};f=Math.floor(0.8*m);u=c(f);u<a&&(i=f,q=u);for(;;){if(1>=m-i)return r=a-q<r-a,{line:j,ch:r?i:m,after:r};f=Math.ceil((i+m)/2);u=c(f);u>a?(m=f,r=u,t&&(r+=1E3)):(i=f,q=u)}}function pa(){if(null==Ta){Ta=r("pre");for(var a=0;49>a;++a)Ta.appendChild(document.createTextNode("x")),
Ta.appendChild(r("br"));Ta.appendChild(document.createTextNode("x"))}a=ea.clientHeight;if(a==Gc)return ec;Gc=a;a=Ta.cloneNode(!0);Ha(Sa).appendChild(a);ec=Sa.firstChild.offsetHeight/50||1;Ha(Sa);return ec}function Xb(){if(p.clientWidth==Hc)return Ic;Hc=p.clientWidth;var a=r("span","x"),b=r("pre",[a]);Ha(Sa).appendChild(b);return Ic=a.offsetWidth||10}function Ya(a,b){var c=Ra(p,!0),e,f;try{e=a.clientX,f=a.clientY}catch(g){return null}if(!b&&(e-c.left>p.clientWidth||f-c.top>p.clientHeight))return null;
c=Ra(E,!0);return Ib(e-c.left,f-c.top)}function Jc(a){function b(){Ia.style.position="relative";x.style.cssText=g;fc&&(u.scrollTop=e);ga();if(null!=x.selectionStart){clearTimeout(gc);var a=x.value=" "+(y(f.from,f.to)?"":x.value),d=0;ia=" ";x.selectionStart=1;x.selectionEnd=a.length;gc=setTimeout(function Oc(){" "==ia&&0==x.selectionStart?m(Tb.selectAll)(C):10>d++?gc=setTimeout(Oc,500):yb()},200)}}var c=Ya(a),e=u.scrollTop;if(c&&!ya){(y(f.from,f.to)||M(c,f.from)||!M(c,f.to))&&m(Ca)(c.line,c.ch);var g=
x.style.cssText;Ia.style.position="absolute";x.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";$();yb(!0);y(f.from,f.to)&&(x.value=ia=" ");if(db){jb(a);var h=v(window,"mouseup",function(){h();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function qb(){clearInterval(Wb);var a=!0;U.style.visibility="";Wb=setInterval(function(){U.style.visibility=
(a=!a)?"":"hidden"},h.cursorBlinkRate)}function Kc(a){var b=f.inverted?f.from:f.to,c=g(b.line),e=b.ch-1,h=0<=e&&hc[c.text.charAt(e)]||hc[c.text.charAt(++e)];if(h){h.charAt(0);for(var i=(h=">"==h.charAt(1))?1:-1,j=c.styles,l=e+1,p=0,n=j.length;p<n;p+=2)if(0>=(l-=j[p].length)){var A=j[p+1];break}j=[c.text.charAt(e)];l=/[(){}[\]]/;p=b.line;for(n=h?Math.min(p+100,s.size):Math.max(-1,p-100);p!=n;p+=i){var c=g(p),t=p==b.line,q;a:{q=t&&h?e+1:0;t=t&&!h?e:c.text.length;if(c.text)for(var r=c.styles,c=h?0:c.text.length-
1,u=void 0,B=h?0:r.length-2,x=h?r.length:-2;B!=x;B+=2*i){var v=r[B];if(r[B+1]!=A)c+=i*v.length;else for(var W=h?0:v.length-1,z=h?v.length:-1;W!=z;W+=i,c+=i)if(c>=q&&c<t&&l.test(u=v.charAt(W))){var C=hc[u];if(">"==C.charAt(1)==h)j.push(u);else if(j.pop()!=C.charAt(0)){q={pos:c,match:!1};break a}else if(!j.length){q={pos:c,match:!0};break a}}}q=void 0}if(q)break}q||(q={pos:null,match:!1});var A=q.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",E=cc({line:b.line,ch:e},{line:b.line,
ch:e+1},A),$=null!=q.pos&&cc({line:p,ch:q.pos},{line:p,ch:q.pos+1},A),b=m(function(){E.clear();$&&$.clear()});a?setTimeout(b,800):za=b}}function Xa(a){var b;a:{for(var c,e,f=a,i=a-40;f>i;--f){if(0==f){b=0;break a}var j=g(f-1);if(j.stateAfter){b=f;break a}j=j.indentation(h.tabSize);if(null==e||c>j)e=f-1,c=j}b=e}var l=b&&g(b-1).stateAfter,l=l?Ua(Q,l):Lc(Q);s.iter(b,a,function(c){c.process(Q,l,h.tabSize);c.stateAfter=b==a-1||0==b%5?Ua(Q,l):null});return l}function nc(){if(!(ca>=L)){var a=+new Date+h.workTime,
b=Ua(Q,Xa(ca)),c=ca;s.iter(ca,L,function(c){ca>=H?(c.highlight(Q,b,h.tabSize),c.stateAfter=Ua(Q,b)):(c.process(Q,b,h.tabSize),c.stateAfter=0==ca%5?Ua(Q,b):null);++ca;if(+new Date>a)return tb(h.workDelay),!0});L>c&&ca>=H&&m(function(){ra.push({from:c,to:ca})})()}}function tb(a){ca<L&&oc.set(a,nc)}function yc(){xa=Ab=Oa=null;ra=[];Ba=!1;$a=[]}function zc(){ab&&wc();if(sb&&!h.lineWrapping){var a=Fb.offsetWidth,b=dc(oa,oa.text.length).left;ic||(Fb.style.left=b+"px",E.style.minWidth=b+a+"px");sb=!1}var c,
e;Ba&&(a=Ac(),c=Cc(a.x,a.y,a.x,a.yBot));if(ra.length||c&&null!=c.scrollTop)e=Aa(ra,!0,c&&c.scrollTop);e||(Ba&&Ea(),na&&wa());if(c&&(a=Ac(),Bc(a.x,a.y,a.x,a.yBot),aa)){c=qa.getBoundingClientRect();b=null;if(0>a.y+c.top)b=!0;else if(a.y+c.top+pa()>(window.innerHeight||document.documentElement.clientHeight))b=!1;if(null!=b){if(c="none"==U.style.display)U.style.display="",U.style.left=a.x+"px",U.style.top=a.y-Pa+"px";U.scrollIntoView(b);c&&(U.style.display="none")}}Ba&&qb();aa&&(!0===xa||!1!==xa&&Ba)&&
yb(Ab);Ba&&h.matchBrackets&&setTimeout(m(function(){za&&(za(),za=null);y(f.from,f.to)&&Kc(!1)}),20);b=Ba;a=$a;if(Oa&&h.onChange&&C)h.onChange(C,Oa);if(b&&h.onCursorActivity)h.onCursorActivity(C);for(b=0;b<a.length;++b)a[b](C);if(e&&h.onUpdate)h.onUpdate(C)}function m(a){return function(){wb++||yc();try{var b=a.apply(this,arguments)}finally{--wb||zc()}return b}}function qc(a){O.startCompound();try{return a()}finally{O.endCompound()}}var h={},jc=n.defaults,eb;for(eb in jc)jc.hasOwnProperty(eb)&&(h[eb]=
(b&&b.hasOwnProperty(eb)?b:jc)[eb]);var x=r("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");x.setAttribute("wrap","off");x.setAttribute("autocorrect","off");x.setAttribute("autocapitalize","off");var Ia=r("div",[x],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),vc=r("div",null,"CodeMirror-scrollbar-inner"),u=r("div",[vc],"CodeMirror-scrollbar"),ea=r("div"),zb=r("div",null,null,"position: relative; z-index: -1"),U=r("pre","\u00a0","CodeMirror-cursor"),
Fb=r("pre","\u00a0","CodeMirror-cursor","visibility: hidden"),Sa=r("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"),E=r("div",[Sa,U,Fb,zb,ea],null,"position: relative; z-index: 0"),Qa=r("div",null,"CodeMirror-gutter-text"),Z=r("div",[Qa],"CodeMirror-gutter"),vb=r("div",[Z,r("div",[E],"CodeMirror-lines")],null,"position: relative"),qa=r("div",[vb],null,"position: relative"),p=r("div",[qa],"CodeMirror-scroll");p.setAttribute("tabIndex","-1");var X=
r("div",[Ia,u,p],"CodeMirror"+(h.lineWrapping?" CodeMirror-wrap":""));a.appendChild?a.appendChild(X):a(X);hb();ib();Zb&&(x.style.width="0px");ub||(p.draggable=!0);E.style.outline="none";null!=h.tabindex&&(x.tabIndex=h.tabindex);h.autofocus&&$();!h.gutter&&!h.lineNumbers&&(Z.style.display="none");kc&&(Ia.style.height="1px",Ia.style.position="absolute");Rc?(u.style.zIndex=-2,u.style.visibility="hidden"):ic&&(u.style.minWidth="18px");var Yb=new lc,oc=new lc,Wb,Q,s=new Jb([new Kb([new Na("")])]),ca=0,
aa;gb();var f={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},la,Lb,Mb,ta=0,lb,xb=!1,nb=!1,xa,Ab,ra,Oa,Ba,na,$a,Pa=0,H=0,L=0,Dc=0,za,oa=g(0),ab=!1,sb=!0,Ma=!1,Bb=null;m(function(){A(h.value||"");xa=!1})();var O=new Nb;v(p,"mousedown",m(function(a){function b(c){ub&&(p.draggable=!1);lb=!1;A();t();10>Math.abs(a.clientX-c.clientX)+Math.abs(a.clientY-c.clientY)&&(G(c),Ca(j.line,j.ch,!0),$())}function c(a){if("single"==l)ka(j,a);else if("double"==l){var d=Va(a);M(a,q)?ka(d.from,r):ka(q,d.to)}else"triple"==
l&&(M(a,q)?ka(r,z({line:a.line,ch:0})):ka(q,z({line:a.line+1,ch:0})))}function e(a){var d=Ya(a,!0);if(d&&!y(d,n)){aa||S();n=d;c(d);xa=!1;var b=Da();if(d.line>=b.to||d.line<b.from)s=setTimeout(m(function(){e(a)}),150)}}function g(a){clearTimeout(s);var d=Ya(a);d&&c(d);G(a);$();xa=!0;u();A()}Ka(I(a,"shiftKey"));for(var i=a.target||a.srcElement;i!=X;i=i.parentNode)if(i.parentNode==qa&&i!=vb)return;for(i=a.target||a.srcElement;i!=X;i=i.parentNode)if(i.parentNode==Qa){if(h.onGutterClick)h.onGutterClick(C,
Ob(Qa.childNodes,i)+H,a);return G(a)}var j=Ya(a);switch(Mc(a)){case 3:db&&Jc(a);return;case 2:j&&Ca(j.line,j.ch,!0);setTimeout($,20);G(a);return}if(j){aa||S();var i=+new Date,l="single";Mb&&Mb.time>i-400&&y(Mb.pos,j)?(l="triple",G(a),setTimeout($,20),i=j.line,ka({line:i,ch:0},z({line:i+1,ch:0}))):Lb&&Lb.time>i-400&&y(Lb.pos,j)?(l="double",Mb={time:i,pos:j},G(a),i=Va(j),ka(i.from,i.to)):Lb={time:i,pos:j};var n=j,s;if(h.dragDrop&&mc&&!h.readOnly&&!y(f.from,f.to)&&!M(j,f.from)&&!M(f.to,j)&&"single"==
l){ub&&(p.draggable=!0);var A=v(document,"mouseup",m(b),!0),t=v(p,"drop",m(b),!0);lb=!0;p.dragDrop&&p.dragDrop()}else{G(a);"single"==l&&Ca(j.line,j.ch,!0);var q=f.from,r=f.to,u=v(document,"mousemove",m(function(a){clearTimeout(s);G(a);!Ga&&!Mc(a)?g(a):e(a)}),!0),A=v(document,"mouseup",m(g),!0)}}else(a.target||a.srcElement)==p&&G(a)}));v(p,"dblclick",m(function(a){for(var b=a.target||a.srcElement;b!=X;b=b.parentNode)if(b.parentNode==Qa)return G(a);G(a)}));v(E,"selectstart",G);db||v(p,"contextmenu",
Jc);v(p,"scroll",function(){h.fixedGutter&&Z.style.left!=p.scrollLeft+"px"&&(Z.style.left=p.scrollLeft+"px");p.scrollTop!=ta&&(ta=p.scrollTop,u.scrollTop!=ta&&(u.scrollTop=ta),Aa([]));if(h.onScroll)h.onScroll(C)});v(u,"scroll",function(){u.scrollTop!=ta&&(ta=p.scrollTop=u.scrollTop,Aa([]))});v(u,"mousedown",function(){aa&&setTimeout($,0)});var Sc=v(window,"resize",function(){X.parentNode?Aa(!0):Sc()},!0);v(x,"keyup",m(function(a){if(!h.onKeyEvent||!h.onKeyEvent(C,Wa(a)))16==I(a,"keyCode")&&(la=null)}));
v(x,"input",cb);v(x,"keydown",m(uc));v(x,"keypress",m(function(a){Ma&&W();if(!h.onKeyEvent||!h.onKeyEvent(C,Wa(a))){var b=I(a,"keyCode"),c=I(a,"charCode");if(ya&&b==Vb)Vb=null,G(a);else if(!(ya&&(!a.which||10>a.which)||kc)||!sc(a)){b=String.fromCharCode(null==c?b:c);h.electricChars&&Q.electricChars&&h.smartIndent&&!h.readOnly&&-1<Q.electricChars.indexOf(b)&&setTimeout(m(function(){Eb(f.to.line,"smart")}),75);if(b=pb("'"+b+"'",h.extraKeys,h.keyMap,function(a){return mb(a,!0)}))G(a),qb();b||cb()}}}));
v(x,"focus",S);v(x,"blur",N);h.dragDrop&&(v(p,"dragstart",Rb),v(p,"dragenter",c),v(p,"dragover",c),v(p,"drop",m(w)));v(p,"paste",function(){$();cb()});v(x,"paste",cb);v(x,"cut",m(function(){h.readOnly||R("")}));kc&&v(qa,"mouseup",function(){document.activeElement==x&&x.blur();$()});var Nc;try{Nc=document.activeElement==x}catch(Tc){}Nc||h.autofocus?setTimeout(S,20):N();var C=X.CodeMirror={getValue:function(a){var b=[];s.iter(0,s.size,function(a){b.push(a.text)});return b.join(a||"\n")},setValue:m(A),
getSelection:Sb,replaceSelection:m(R),focus:function(){window.focus();$();S();cb()},setOption:function(a,b){var c=h[a];h[a]=b;"mode"==a||"indentUnit"==a?gb():"readOnly"==a&&"nocursor"==b?(N(),x.blur()):"readOnly"==a&&!b?yb(!0):"theme"==a?hb():"lineWrapping"==a&&c!=b?m(Qb)():"tabSize"==a?Aa(!0):"keyMap"==a&&ib();if("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a||"lineNumberFormatter"==a)c=h.gutter||h.lineNumbers,Z.style.display=c?"":"none",c?na=!0:ea.parentNode.style.marginLeft=0,
Aa(!0)},getOption:function(a){return h[a]},getMode:function(){return Q},undo:m(function(){P(O.done,O.undone)}),redo:m(function(){P(O.undone,O.done)}),indentLine:m(function(a,b){"string"!=typeof b&&(b=null==b?h.smartIndent?"smart":"prev":b?"add":"subtract");e(a)&&Eb(a,b)}),indentSelection:m(function(a){if(y(f.from,f.to))return Eb(f.from.line,a);for(var b=f.to.line-(f.to.ch?0:1),c=f.from.line;c<=b;++c)Eb(c,a)}),historySize:function(){return{undo:O.done.length,redo:O.undone.length}},clearHistory:function(){O=
new Nb},setHistory:function(a){O=new Nb;O.done=a.done;O.undone=a.undone},getHistory:function(){function a(d){for(var b=0,c=[],e;b<d.length;++b){c.push(e=[]);for(var f=0,g=d[b];f<g.length;++f){var h=[],i=g[f];e.push({start:i.start,added:i.added,old:h});for(var l=0;l<i.old.length;++l)h.push(T(i.old[l]))}}return c}return{done:a(O.done),undone:a(O.undone)}},matchBrackets:m(function(){Kc(!0)}),getTokenAt:m(function(a){a=z(a);return g(a.line).getTokenAt(Q,Xa(a.line),h.tabSize,a.ch)}),getStateAfter:function(a){a=
Cb(null==a?s.size-1:a);return Xa(a+1)},cursorCoords:function(a,b){null==a&&(a=f.inverted);return this.charCoords(a?f.from:f.to,b)},charCoords:function(a,b){a=z(a);if("local"==b)return sa(a,!1);if("div"==b)return sa(a,!0);var c=sa(a,!0),e=Ra(E);return{x:e.left+c.x,y:e.top+c.y,yBot:e.top+c.yBot}},coordsChar:function(a){var b=Ra(E);return Ib(a.x-b.left,a.y-b.top)},markText:m(cc),setBookmark:function(a){var a=z(a),b=new Gb("bookmark"),c=g(a.line),a={from:a.ch,to:a.ch,marker:b};(c.markedSpans||(c.markedSpans=
[])).push(a);b.lines.push(c);return b},findMarksAt:function(a){var a=z(a),b=[],c=g(a.line).markedSpans;if(c)for(var e=0;e<c.length;++e){var f=c[e];(null==f.from||f.from<=a.ch)&&(null==f.to||f.to>=a.ch)&&b.push(f.marker)}return b},setMarker:m(function(a,b,c){"number"==typeof a&&(a=g(Cb(a)));a.gutterMarker={text:b,style:c};na=!0;return a}),clearMarker:m(function(a){"number"==typeof a&&(a=g(Cb(a)));a.gutterMarker=null;na=!0}),setLineClass:m(function(a,b,c){return Fc(a,function(a){if(a.className!=b||
a.bgClassName!=c)return a.className=b,a.bgClassName=c,!0})}),hideLine:m(function(a){return bc(a,!0)}),showLine:m(function(a){return bc(a,!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!e(a))return null;a=g(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!e(a))return null;var b=a,a=g(a);if(!a)return null}else if(b=La(a),null==b)return null;var c=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,
lineClass:a.className,bgClass:a.bgClassName}},getViewport:function(){return{from:H,to:L}},addWidget:function(a,b,c,e,f){var a=sa(z(a)),g=a.yBot,h=a.x;b.style.position="absolute";qa.appendChild(b);if("over"==e)g=a.y;else if("near"==e){var e=Math.max(p.offsetHeight,s.height*pa()),i=Math.max(qa.clientWidth,E.clientWidth)-E.offsetLeft;a.yBot+b.offsetHeight>e&&a.y>b.offsetHeight&&(g=a.y-b.offsetHeight);h+b.offsetWidth>i&&(h=i-b.offsetWidth)}b.style.top=g+E.offsetTop+"px";b.style.left=b.style.right="";
"right"==f?(h=qa.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==f?h=0:"middle"==f&&(h=(qa.clientWidth-b.offsetWidth)/2),b.style.left=h+E.offsetLeft+"px");c&&Bc(h,g,h+b.offsetWidth,g+b.offsetHeight)},lineCount:function(){return s.size},clipPos:z,getCursor:function(a){null==a&&(a=f.inverted);return{line:(a?f.from:f.to).line,ch:(a?f.from:f.to).ch}},somethingSelected:function(){return!y(f.from,f.to)},setCursor:m(function(a,b,c){null==b&&"number"==typeof a.line?Ca(a.line,a.ch,c):Ca(a,b,c)}),setSelection:m(function(a,
b,c){(c?ka:bb)(z(a),z(b||a))}),getLine:function(a){if(e(a))return g(a).text},getLineHandle:function(a){if(e(a))return g(a)},setLine:m(function(a,b){e(a)&&V(b,{line:a,ch:0},{line:a,ch:g(a).text.length})}),removeLine:m(function(a){e(a)&&V("",{line:a,ch:0},z({line:a+1,ch:0}))}),replaceRange:m(V),getRange:function(a,b,c){return xc(z(a),z(b),c)},triggerOnKeyDown:m(uc),execCommand:function(a){return Tb[a](C)},moveH:m(function(a,b){var c=0>a?f.from:f.to;if(la||y(f.from,f.to))c=Ja(a,b);Ca(c.line,c.ch,!0)}),
deleteH:m(function(a,b){y(f.from,f.to)?0>a?V("",Ja(a,b),f.to):V("",f.from,Ja(a,b)):V("",f.from,f.to);Ab=!0}),moveV:m(function(a,b){var c=sa(f.inverted?f.from:f.to,!0);null!=Bb&&(c.x=Bb);if("page"==b)var e=Math.min(p.clientHeight,window.innerHeight||document.documentElement.clientHeight),e=Ib(c.x,c.y+e*a);else"line"==b&&(e=pa(),e=Ib(c.x,c.y+0.5*e+a*e));"page"==b&&(u.scrollTop+=sa(e,!0).y-c.y);Ca(e.line,e.ch,!0);Bb=c.x}),toggleOverwrite:function(){xb?(xb=!1,U.className=U.className.replace(" CodeMirror-overwrite",
"")):(xb=!0,U.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b=0,c;s.iter(0,s.size,function(e){e=e.text.length+1;if(e>a)return c=a,!0;a-=e;++b});return z({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;s.iter(0,a.line,function(a){b+=a.text.length+1});return b},scrollTo:function(a,b){null!=a&&(p.scrollLeft=a);null!=b&&(u.scrollTop=p.scrollTop=b);Aa([])},getScrollInfo:function(){return{x:p.scrollLeft,y:u.scrollTop,height:u.scrollHeight,width:p.scrollWidth}},
setSize:function(a,b){function c(a){a=String(a);return/^\d+$/.test(a)?a+"px":a}null!=a&&(X.style.width=c(a));null!=b&&(p.style.height=c(b));C.refresh()},operation:function(a){return m(a)()},compoundChange:function(a){return qc(a)},refresh:function(){Aa(!0,null,ta);u.scrollHeight>ta&&(u.scrollTop=ta)},getInputField:function(){return x},getWrapperElement:function(){return X},getScrollerElement:function(){return p},getGutterElement:function(){return Z}},tc,Vb=null,ia="";Gb.prototype.clear=m(function(){for(var a=
Infinity,b=-Infinity,c=0;c<this.lines.length;++c){var e=this.lines[c],f=rb(e.markedSpans,this,!0);if(null!=f.from||null!=f.to)e=La(e),a=Math.min(a,e),b=Math.max(b,e)}Infinity!=a&&ra.push({from:a,to:b+1});this.lines.length=0});Gb.prototype.find=function(){for(var a,b,c=0;c<this.lines.length;++c){var e=this.lines[c],f=rb(e.markedSpans,this);if(null!=f.from||null!=f.to)e=La(e),null!=f.from&&(a={line:e,ch:f.from}),null!=f.to&&(b={line:e,ch:f.to})}return"bookmark"==this.type?a:a&&{from:a,to:b}};var ec,
Gc,Ta,Ic,Hc=0,gc,hc={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},wb=0,fb;for(fb in Pb)Pb.propertyIsEnumerable(fb)&&!C.propertyIsEnumerable(fb)&&(C[fb]=Pb[fb]);return C}function Ub(a){return"string"==typeof a?fa[a]:a}function pb(a,b,c,e,g){function i(b){var b=Ub(b),c=b[a];if(!1===c)return g&&g(),!0;if(null!=c&&e(c))return!0;if(b.nofallthrough)return g&&g(),!0;b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return i(b);for(var c=0,n=b.length;c<n;++c)if(i(b[c]))return!0;
return!1}return b&&i(b)?!0:i(c)}function Ua(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},e;for(e in b){var g=b[e];g instanceof Array&&(g=g.concat([]));c[e]=g}return c}function Lc(a,b,c){return a.startState?a.startState(b,c):!0}function Da(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function rb(a,b,c){if(a)for(var e=0;e<a.length;++e){var g=a[e];if(g.marker==b)return c&&a.splice(e,1),g}}function T(a){return"string"==typeof a?a:a.text}function K(a){return"string"==
typeof a?null:a.markedSpans}function Za(a,b){return b?{text:a,markedSpans:b}:a}function gb(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c){var e=b[c].marker.lines,g=Ob(e,a);e.splice(g,1)}a.markedSpans=null}}function Qb(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.lines.push(a);a.markedSpans=b}}function Na(a,b){this.text=a;this.height=1;Qb(this,b)}function Kb(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,e=0;b<c;++b)a[b].parent=this,e+=a[b].height;this.height=e}function Jb(a){this.children=
a;for(var b=0,c=0,e=0,g=a.length;e<g;++e){var i=a[e],b=b+i.chunkSize(),c=c+i.height;i.parent=this}this.size=b;this.height=c;this.parent=null}function La(a){if(null==a.parent)return null;for(var b=a.parent,a=Ob(b.lines,a),c=b.parent;c;b=c,c=c.parent)for(var e=0;c.children[e]!=b;++e)a+=c.children[e].chunkSize();return a}function $b(a,b){var c=0;a:do{for(var e=0,g=a.children.length;e<g;++e){var i=a.children[e],l=i.height;if(b<l){a=i;continue a}b-=l;c+=i.chunkSize()}return c}while(!a.lines);e=0;for(g=
a.lines.length;e<g;++e){i=a.lines[e].height;if(b<i)break;b-=i}return c+e}function ac(a,b){var c=0;a:do{for(var e=0,g=a.children.length;e<g;++e){var i=a.children[e],l=i.chunkSize();if(b<l){a=i;continue a}b-=l;c+=i.height}return c}while(!a.lines);for(e=0;e<b;++e)c+=a.lines[e].height;return c}function Nb(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=!1}function nc(){jb(this)}function Wa(a){a.stop||(a.stop=nc);return a}function G(a){a.preventDefault?a.preventDefault():a.returnValue=
!1}function hb(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function jb(a){G(a);hb(a)}function Mc(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));ob&&(a.ctrlKey&&1==b)&&(b=3);return b}function I(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function v(a,b,c,e){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),e)return function(){a.removeEventListener(b,c,!1)}}else{var g=function(a){c(a||window.event)};a.attachEvent("on"+
b,g);if(e)return function(){a.detachEvent("on"+b,g)}}}function lc(){this.id=null}function Ja(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var e=0,g=0;e<b;++e)"\t"==a.charAt(e)?g+=c-g%c:++g;return g}function Ra(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(e){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var g=document.documentElement||document.body.parentNode;null==g.scrollTop&&(g=document.body);c.top+=g.scrollTop;c.left+=g.scrollLeft}else c.top+=
window.pageYOffset,c.left+=window.pageXOffset;return c}function Ec(a){for(;Ka.length<=a;)Ka.push(J(Ka)+" ");return Ka[a]}function J(a){return a[a.length-1]}function y(a,b){return a.line==b.line&&a.ch==b.ch}function M(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function r(a,b,c,e){a=document.createElement(a);c&&(a.className=c);e&&(a.style.cssText=e);if("string"==typeof b)ib(a,b);else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function Ha(a){a.innerHTML="";return a}function ib(a,
b){fc?(a.innerHTML="",a.appendChild(document.createTextNode(b))):a.textContent=b}function Ob(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,e=a.length;c<e;++c)if(a[c]==b)return c;return-1}function Db(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}n.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,
fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(a){return a}};var Zb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ob=Zb||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);
var ua=n.modes={},va=n.mimeModes={};n.defineMode=function(a,b){!n.defaults.mode&&"null"!=a&&(n.defaults.mode=a);if(2<arguments.length){b.dependencies=[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}ua[a]=b};n.defineMIME=function(a,b){va[a]=b};n.resolveMode=function(a){if("string"==typeof a&&va.hasOwnProperty(a))a=va[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return n.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};n.getMode=
function(a,b){var b=n.resolveMode(b),c=ua[b.name];if(!c)return n.getMode(a,"text/plain");c=c(a,b);if(wa.hasOwnProperty(b.name)){var e=wa[b.name],g;for(g in e)e.hasOwnProperty(g)&&(c[g]=e[g])}c.name=b.name;return c};n.listModes=function(){var a=[],b;for(b in ua)ua.propertyIsEnumerable(b)&&a.push(b);return a};n.listMIMEs=function(){var a=[],b;for(b in va)va.propertyIsEnumerable(b)&&a.push({mime:b,mode:va[b]});return a};var Pb=n.extensions={};n.defineExtension=function(a,b){Pb[a]=b};var wa=n.modeExtensions=
{};n.extendMode=function(a,b){var c=wa.hasOwnProperty(a)?wa[a]:wa[a]={},e;for(e in b)b.hasOwnProperty(e)&&(c[e]=b[e])};var Tb=n.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),e=!y(b,c);!e&&a.getLine(b.line).length==b.ch?a.replaceRange("",b,{line:b.line+1,ch:0}):a.replaceRange("",b,e?c:{line:b.line})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},
redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,
"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},
indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n",
"end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},fa=n.keyMap={};fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo",
"Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine",
"Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};
fa["default"]=ob?fa.macDefault:fa.pcDefault;fa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};n.fromTextArea=function(a,b){function c(){a.value=r.getValue()}b||(b={});b.value=
a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);if(null==b.autofocus){var e=document.body;try{e=document.activeElement}catch(g){}b.autofocus=e==a||null!=a.getAttribute("autofocus")&&e==document.body}if(a.form){var i=v(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var l=a.form.submit;a.form.submit=function Rb(){c();a.form.submit=l;a.form.submit();a.form.submit=Rb}}}a.style.display="none";var r=n(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);r.save=c;r.getTextArea=
function(){return a};r.toTextArea=function(){c();a.parentNode.removeChild(r.getWrapperElement());a.style.display="";a.form&&(i(),"function"==typeof a.form.submit&&(a.form.submit=l))};return r};var db=/gecko\/\d{7}/i.test(navigator.userAgent),Ga=/MSIE \d/.test(navigator.userAgent),ic=/MSIE [1-7]\b/.test(navigator.userAgent),fc=/MSIE [1-8]\b/.test(navigator.userAgent),Qc=Ga&&5==document.documentMode,ub=/WebKit\//.test(navigator.userAgent),w=/Chrome\//.test(navigator.userAgent),ya=/Opera\//.test(navigator.userAgent),
oc=/Apple Computer/.test(navigator.vendor),kc=/KHTML\//.test(navigator.userAgent),Rc=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);n.copyState=Ua;n.startState=Lc;n.innerMode=function(a,b){for(;a.innerMode;)var c=a.innerMode(b),b=c.state,a=c.mode;return c||{mode:a,state:b}};Da.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},
eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return Ja(this.string,
this.start,this.tabSize)},indentation:function(){return Ja(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){if((c?this.string.toLowerCase():this.string).indexOf(c?a.toLowerCase():a,this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)}};n.StringStream=Da;var Va=" ";db||Ga&&!ic?Va="\u200b":
ya&&(Va="");Na.prototype={update:function(a,b){this.text=a;this.stateAfter=this.styles=null;gb(this);Qb(this,b)},highlight:function(a,b,c){var c=new Da(this.text,c),e=this.styles||(this.styles=[]),g=e.length=0;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var i=a.token(c,b),l=c.current();c.start=c.pos;g&&e[g-1]==i?e[g-2]+=l:l&&(e[g++]=l,e[g++]=i);if(5E3<c.pos){e[g++]=this.text.slice(c.pos);e[g++]=null;break}}},process:function(a,b,c){c=new Da(this.text,c);for(""==this.text&&a.blankLine&&
a.blankLine(b);!c.eol()&&5E3>=c.pos;)a.token(c,b),c.start=c.pos},getTokenAt:function(a,b,c,e){for(c=new Da(this.text,c);c.pos<e&&!c.eol();){c.start=c.pos;var g=a.token(c,b)}return{start:c.start,end:c.pos,string:c.current(),className:g||null,state:b}},indentation:function(a){return Ja(this.text,null,a)},getContent:function(a,b,c){function e(b,c,e){if(c){i&&(Ga&&" "==c.charAt(0))&&(c="\u00a0"+c.slice(1));i=!1;if(n.test(c))for(var g=document.createDocumentFragment(),v=0;;){n.lastIndex=v;var w=n.exec(c),
y=w?w.index-v:c.length-v;y&&(g.appendChild(document.createTextNode(c.slice(v,v+y))),l+=y);if(!w)break;v+=y+1;"\t"==w[0]?(w=a-l%a,g.appendChild(r("span",Ec(w),"cm-tab")),l+=w):(y=r("span","\u2022","cm-invalidchar"),y.title="\\u"+w[0].charCodeAt(0).toString(16),g.appendChild(y),l+=1)}else{l+=c.length;var g=document.createTextNode(c)}e?b.appendChild(r("span",[g],e)):b.appendChild(g)}}function g(a){return!a?null:"cm-"+a.replace(/ +/g," cm-")}var i=!0,l=0,n=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,
v=r("pre"),y=e;if(null!=b)var w=0,G=v.anchor=r("span"),y=function(a,g,i){var l=g.length;if(b>=w&&b<w+l){b>w&&(e(a,g.slice(0,b-w),i),c&&a.appendChild(r("wbr")));a.appendChild(G);var n=b-w;e(G,ya?g.slice(n,n+1):g.slice(n),i);ya&&e(a,g.slice(n+1),i);b--;w+=l}else w+=l,e(a,g,i),w==b&&w==I?(ib(G,Va),a.appendChild(G)):w>b+10&&/\s/.test(g)&&(y=function(){})};var M=this.styles,S=this.text,N=this.markedSpans,I=S.length;if(!S&&null==b)y(v," ");else if(!N||!N.length)for(N=S=0;N<I;S+=2){var P=M[S],T=M[S+1],da=
P.length;N+da>I&&(P=P.slice(0,I-N));N+=da;y(v,P,g(T))}else{N.sort(function(a,b){return a.from-b.from});for(var S=P=0,da="",ba=N[0].from||0,K=[],V=0;P<I;){if(ba==P){for(ba=void 0;V<N.length&&((ba=N[V]).from==P||null==ba.from);)"range"==ba.marker.type&&K.push(ba),++V;for(var ba=V<N.length?N[V].from:Infinity,R=0;R<K.length;++R){var ha=K[R].to;null==ha&&(ha=Infinity);ha==P?K.splice(R--,1):ba=Math.min(ha,ba)}}for(R=Math.min(I,ba);;){if(da){for(var ha=P+da.length,J=T,fa=0;fa<K.length;++fa){var ga=K[fa],
J=(J?J+" ":"")+ga.marker.style;ga.marker.endStyle&&ga.to===Math.min(ha,R)&&(J+=" "+ga.marker.endStyle);ga.marker.startStyle&&ga.from===P&&(J+=" "+ga.marker.startStyle)}y(v,ha>R?da.slice(0,R-P):da,J);if(ha>=R){da=da.slice(R-P);P=R;break}P=ha}da=M[S++];T=g(M[S++])}}}return v},cleanUp:function(){this.parent=null;gb(this)}};Kb.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var e=a,g=a+b;e<g;++e){var i=this.lines[e];this.height-=i.height;i.cleanUp();if(i.handlers)for(var l=
0;l<i.handlers.length;++l)c.push(i.handlers[l])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};Jb.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var e=0;e<this.children.length;++e){var g=
this.children[e],i=g.chunkSize();if(a<i){var l=Math.min(b,i-a),n=g.height;g.remove(a,l,c);this.height-=n-g.height;i==l&&(this.children.splice(e--,1),g.parent=null);if(0==(b-=l))break;a=0}else a-=i}25>this.size-b&&(a=[],this.collapse(a),this.children=[new Kb(a)],this.children[0].parent=this)},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,e=0,g=b.length;e<g;++e)c+=b[e].height;this.insertHeight(a,b,c)},insertHeight:function(a,
b,c){this.size+=b.length;this.height+=c;for(var e=0,g=this.children.length;e<g;++e){var i=this.children[e],l=i.chunkSize();if(a<=l){i.insertHeight(a,b,c);if(i.lines&&50<i.lines.length){for(;50<i.lines.length;)a=i.lines.splice(i.lines.length-25,25),a=new Kb(a),i.height-=a.height,this.children.splice(e+1,0,a),a.parent=this;this.maybeSpill()}break}a-=l}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new Jb(b);if(a.parent){a.size-=
b.size;a.height-=b.height;var c=Ob(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new Jb(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var e=0,g=this.children.length;e<g;++e){var i=this.children[e],l=i.chunkSize();if(a<l){l=Math.min(b,l-a);if(i.iterN(a,l,c))return!0;if(0==(b-=l))break;a=0}else a-=l}}};Nb.prototype={addChange:function(a,b,c){this.undone.length=
0;var e=+new Date,g=J(this.done),i=g&&J(g),l=e-this.time;if(this.compound&&g&&!this.closed)g.push({start:a,added:b,old:c});else if(400<l||!i||this.closed||i.start>a+c.length||i.start+i.added<a)this.done.push([{start:a,added:b,old:c}]),this.closed=!1;else{for(var g=Math.max(0,i.start-a),l=Math.max(0,a+c.length-(i.start+i.added)),n=g;0<n;--n)i.old.unshift(c[n-1]);for(n=l;0<n;--n)i.old.push(c[c.length-n]);g&&(i.start=a);i.added+=b-(c.length-g-l)}this.time=e},startCompound:function(){this.compound++||
(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}};n.e_stop=jb;n.e_preventDefault=G;n.e_stopPropagation=hb;n.connect=v;lc.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var rc=n.Pass={toString:function(){return"CodeMirror.Pass"}},mc;if(fc)mc=!1;else{var Ea=r("div");mc="draggable"in Ea||"dragDrop"in Ea}Ea=r("textarea");Ea.value="foo\nbar";Ea.value.indexOf("\r");var Hb=/^$/;db?Hb=/$'/:oc?Hb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:w&&(Hb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);
var Ka=[""],kb=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],e=a.length;b<=e;){var g=a.indexOf("\n",b);-1==g&&(g=a.length);var i=a.slice(b,"\r"==a.charAt(g-1)?g-1:g),l=i.indexOf("\r");-1!=l?(c.push(i.slice(0,l)),b+=l+1):(c.push(i),b=g+1)}return c}:function(a){return a.split(/\r\n?|\n/)};n.splitLines=kb;var Pc=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||
b.parentElement()!=a?!1:0!=b.compareEndPoints("StartToEnd",b)};n.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});n.defineMIME("text/plain","null");var Fa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",
189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};n.keyNames=Fa;for(w=0;10>w;w++)Fa[w+48]=String(w);for(w=65;90>=w;w++)Fa[w]=String.fromCharCode(w);for(w=1;12>=w;w++)Fa[w+111]=Fa[w+63235]="F"+w;n.version="2.34";return n}();