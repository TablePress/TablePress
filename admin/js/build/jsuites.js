window.jSuites=function(){"use strict";var e={};"undefined"==typeof document||document.jsuitesComponents||function(){document.jsuitesComponents=[];var t=function(e,n){return!(!e[n.type]||e[n.type]!=n)||!(!e.component||e.component!=n)||!!e.parentNode&&t(e.parentNode,n)},n=15,i=null,o=!1,a={x:null,y:null},s=document.createElement("div");s.classList.add("jtooltip");document.addEventListener("mouseup",(function(e){o&&o.e&&("function"==typeof o.e.refresh&&a.actioned&&o.e.refresh(),o.e.style.cursor=""),a={x:null,y:null},o=!1})),document.addEventListener("mousedown",(function(n){var a=e.findElement(n.target,"jpanel");if(a&&!a.classList.contains("readonly")){a.focus();var s=n.target.getBoundingClientRect();o={e:a,x:n.clientX,y:n.clientY,w:s.width,h:s.height,d:a.style.cursor,resizing:!!a.style.cursor,actioned:!1},a.style.width||(a.style.width=s.width+"px"),a.style.height||(a.style.height=s.height+"px");var r=window.getSelection();if(r.rangeCount)for(var l=0;l<r.rangeCount;l++)r.removeRange(r.getRangeAt(l));n.preventDefault(),n.stopPropagation()}else o=!1;if(n.changedTouches&&n.changedTouches[0])var d=n.changedTouches[0].clientX,c=n.changedTouches[0].clientY;else d=n.clientX,c=n.clientY;var u=n.path||n.composedPath&&n.composedPath();if(u)i=u[0];else{if(n.target&&n.target.shadowRoot)var p=n.target.shadowRoot;else p=document;i=p.elementFromPoint(d,c)}!function(e){if(document.jsuitesComponents&&document.jsuitesComponents.length>0)for(var n=0;n<document.jsuitesComponents.length;n++)document.jsuitesComponents[n]&&!t(e,document.jsuitesComponents[n])&&document.jsuitesComponents[n].close()}(i)})),document.addEventListener("mousemove",(function(t){if(o){var i=t.clientX||t.pageX,s=t.clientY||t.pageY;if(o.resizing){var r=null,l=null;if("e-resize"==o.d||"ne-resize"==o.d||"se-resize"==o.d)if(r=o.w+(i-o.x),o.e.style.width=r+"px",t.shiftKey){var d=(i-o.x)*(o.h/o.w);l=o.h+d,o.e.style.height=l+"px"}else d=!1;d||"s-resize"!=o.d&&"se-resize"!=o.d&&"sw-resize"!=o.d||(l=o.h+(s-o.y),o.e.style.height=l+"px"),"function"==typeof o.e.refresh&&(a.actioned=!0,o.e.refresh("dimensions",r,l))}else{null==a.x&&null==a.y&&(a.x=i,a.y=s);var c=i-a.x,u=s-a.y,p=o.e.offsetTop+u,h=o.e.offsetLeft+c;o.e.style.top=p+"px",o.e.style.left=h+"px",o.e.style.cursor="move",a.x=i,a.y=s,"function"==typeof o.e.refresh&&(a.actioned=!0,o.e.refresh("position",p,h))}}else{var f=e.findElement(t.target,"jpanel");if(f&&f.getAttribute("tabindex")){var m=f.getBoundingClientRect();t.clientY-m.top<n?m.width-(t.clientX-m.left)<n?f.style.cursor="ne-resize":t.clientX-m.left<n?f.style.cursor="nw-resize":f.style.cursor="n-resize":m.height-(t.clientY-m.top)<n?m.width-(t.clientX-m.left)<n?f.style.cursor="se-resize":t.clientX-m.left<n?f.style.cursor="sw-resize":f.style.cursor="s-resize":m.width-(t.clientX-m.left)<n?f.style.cursor="e-resize":t.clientX-m.left<n?f.style.cursor="w-resize":f.style.cursor=""}}})),document.addEventListener("mouseover",(function(e){var t=e.target.getAttribute("data-tooltip");if(t){if(s.innerText=t,e.changedTouches&&e.changedTouches[0])var n=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY;else n=e.clientX,i=e.clientY;s.style.top=i+"px",s.style.left=n+"px",document.body.appendChild(s)}else s.innerText&&(s.innerText="",document.body.removeChild(s))})),document.addEventListener("dblclick",(function(t){var n=e.findElement(t.target,"jpanel");n&&"function"==typeof n.dblclick&&n.dblclick(t)})),document.addEventListener("keydown",(function(e){var t=document.activeElement;t&&"Delete"==e.key&&"function"==typeof t.delete&&(t.delete(),e.preventDefault(),e.stopImmediatePropagation()),document.jsuitesComponents&&document.jsuitesComponents.length&&(t=document.jsuitesComponents[document.jsuitesComponents.length-1])&&"Escape"==e.key&&"function"==typeof t.isOpened&&"function"==typeof t.close&&t.isOpened()&&(t.close(),e.preventDefault(),e.stopImmediatePropagation())})),document.addEventListener("contextmenu",(function(t){var n=document.activeElement;if(n&&"function"==typeof n.contextmenu)n.contextmenu(t),t.preventDefault(),t.stopImmediatePropagation();else if(n=e.findElement(t.target,(function(e){return e.tagName&&e.getAttribute("aria-contextmenu-id")})),n){var i=document.querySelector("#"+n);i?(i.contextmenu.open(t),t.preventDefault(),t.stopImmediatePropagation()):console.error("JSUITES: contextmenu id not found: "+n)}}))}(),e.version="4.17.5",e.setExtensions=function(t){if("object"==typeof t)for(var n=Object.keys(t),i=0;i<n.length;i++)e[n[i]]=t[n[i]]},e.tracking=function(e,t){if(1==t)document.jsuitesComponents=document.jsuitesComponents.filter((function(e){return null!==e})),setTimeout((function(){document.jsuitesComponents.push(e)}),0);else{var n=document.jsuitesComponents.indexOf(e);n>=0&&document.jsuitesComponents.splice(n,1)}},e.path=function(e,t){if((e=e.split(".")).length){for(var n=this,i=null;e.length>1;)if(i=e.shift(),n.hasOwnProperty(i))n=n[i];else{if(void 0===t)return;n[i]={},n=n[i]}if(i=e.shift(),void 0!==t)return n[i]=t,!0;if(n)return n[i]}return!1},e.setDictionary=function(t){document.dictionary||(document.dictionary={});for(var n=Object.keys(t),i=0;i<n.length;i++)document.dictionary[n[i]]=t[n[i]];var o=null;for(i=0;i<e.calendar.weekdays.length;i++)o=e.translate(e.calendar.weekdays[i]),e.calendar.weekdays[i]&&(e.calendar.weekdays[i]=o,e.calendar.weekdaysShort[i]=o.substr(0,3));for(i=0;i<e.calendar.months.length;i++)(o=e.translate(e.calendar.months[i]))&&(e.calendar.months[i]=o,e.calendar.monthsShort[i]=o.substr(0,3))},e.translate=function(e){return"undefined"!=typeof document&&document.dictionary&&document.dictionary[e]||e},e.ajax=function(t,n){if(Array.isArray(t)){var i={instance:[],complete:n};if(t.length>0)for(var o=0;o<t.length;o++)t[o].multiple=i,i.instance.push(e.ajax(t[o]));return i}if(t.data||(t.data={}),t.type&&(t.method=t.type),t.method||(t.method="GET"),t.dataType||(t.dataType="json"),t.data){var a=function(e,t){var n=[];if(e){var i=Object.keys(e);if(i.length)for(var o=0;o<i.length;o++){if(t)var s=t+"["+i[o]+"]";else s=i[o];if(e[s]instanceof FileList)n[s]=e[i[o]];else if(null===e[i[o]]||void 0===e[i[o]])n[s]="";else if("object"==typeof e[i[o]])for(var r=a(e[i[o]],s),l=Object.keys(r),d=0;d<l.length;d++)n[l[d]]=r[l[d]];else n[s]=e[i[o]]}}return n},s=a(t.data),r=Object.keys(s);if("GET"==t.method){if(r.length){var l=[];for(o=0;o<r.length;o++)l.push(r[o]+"="+encodeURIComponent(s[r[o]]));t.url.indexOf("?")<0&&(t.url+="?"),t.url+=l.join("&")}}else for(l=new FormData,o=0;o<r.length;o++)if(s[r[o]]instanceof FileList){if(s[r[o]].length)for(var d=0;d<s[r[o]].length;d++)l.append(r[o],s[r[o]][d],s[r[o]][d].name)}else l.append(r[o],s[r[o]])}var c=new XMLHttpRequest;return c.open(t.method,t.url,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.contentType&&c.setRequestHeader("Content-Type",t.contentType),"POST"==t.method?c.setRequestHeader("Accept","application/json"):"blob"==t.dataType?c.responseType="blob":t.contentType||("json"==t.dataType?c.setRequestHeader("Content-Type","text/json"):"html"==t.dataType&&c.setRequestHeader("Content-Type","text/html")),1!=t.cache&&(c.setRequestHeader("pragma","no-cache"),c.setRequestHeader("cache-control","no-cache")),1==t.withCredentials&&(c.withCredentials=!0),"function"==typeof t.beforeSend&&t.beforeSend(c),"function"==typeof e.ajax.beforeSend&&e.ajax.beforeSend(c),document.ajax&&"function"==typeof document.ajax.beforeSend&&document.ajax.beforeSend(c),c.onload=function(){if(200===c.status)if("json"==t.dataType)try{var n=JSON.parse(c.responseText);t.success&&"function"==typeof t.success&&t.success(n)}catch(e){t.error&&"function"==typeof t.error&&t.error(e,n)}else n="blob"==t.dataType?c.response:c.responseText,t.success&&"function"==typeof t.success&&t.success(n);else t.error&&"function"==typeof t.error&&t.error(c.responseText,c.status);if(e.ajax.queue&&e.ajax.queue.length>0&&e.ajax.send(e.ajax.queue.shift()),e.ajax.requests&&e.ajax.requests.length){var i=e.ajax.requests.indexOf(c);e.ajax.requests.splice(i,1),e.ajax.requests.length||t.complete&&"function"==typeof t.complete&&t.complete(n),t.group&&e.ajax.oncomplete&&"function"==typeof e.ajax.oncomplete[t.group]&&(e.ajax.pending(t.group)||(e.ajax.oncomplete[t.group](),e.ajax.oncomplete[t.group]=null)),t.multiple&&t.multiple.instance&&(i=t.multiple.instance.indexOf(c),t.multiple.instance.splice(i,1),t.multiple.instance.length||t.multiple.complete&&"function"==typeof t.multiple.complete&&t.multiple.complete(n))}},c.options=t,c.data=l,1==t.queue&&e.ajax.requests.length>0?e.ajax.queue.push(c):e.ajax.send(c),c},e.ajax.send=function(t){t.data?Array.isArray(t.data)?t.send(t.data.join("&")):t.send(t.data):t.send(),e.ajax.requests.push(t)},e.ajax.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},e.ajax.pending=function(t){var n=0,i=e.ajax.requests;if(i&&i.length)for(var o=0;o<i.length;o++)t&&t!=i[o].options.group||n++;return n},e.ajax.oncomplete={},e.ajax.requests=[],e.ajax.queue=[],e.animation={},e.animation.slideLeft=function(e,t,n){1==t?(e.classList.add("slide-left-in"),setTimeout((function(){e.classList.remove("slide-left-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-left-out"),setTimeout((function(){e.classList.remove("slide-left-out"),"function"==typeof n&&n()}),400))},e.animation.slideRight=function(e,t,n){1==t?(e.classList.add("slide-right-in"),setTimeout((function(){e.classList.remove("slide-right-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-right-out"),setTimeout((function(){e.classList.remove("slide-right-out"),"function"==typeof n&&n()}),400))},e.animation.slideTop=function(e,t,n){1==t?(e.classList.add("slide-top-in"),setTimeout((function(){e.classList.remove("slide-top-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-top-out"),setTimeout((function(){e.classList.remove("slide-top-out"),"function"==typeof n&&n()}),400))},e.animation.slideBottom=function(e,t,n){1==t?(e.classList.add("slide-bottom-in"),setTimeout((function(){e.classList.remove("slide-bottom-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-bottom-out"),setTimeout((function(){e.classList.remove("slide-bottom-out"),"function"==typeof n&&n()}),100))},e.animation.fadeIn=function(e,t){e.style.display="",e.classList.add("fade-in"),setTimeout((function(){e.classList.remove("fade-in"),"function"==typeof t&&t()}),2e3)},e.animation.fadeOut=function(e,t){e.classList.add("fade-out"),setTimeout((function(){e.style.display="none",e.classList.remove("fade-out"),"function"==typeof t&&t()}),1e3)},e.calendar=function(t,n){if(t.calendar)return t.calendar.setOptions(n,!0);var i={type:"calendar",options:{},date:null,setOptions:function(n,o){var a={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:e.calendar.monthsShort,monthsFull:e.calendar.months,weekdays:e.calendar.weekdays,textDone:e.translate("Done"),textReset:e.translate("Reset"),textUpdate:e.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null,controls:!0};for(var s in a)n&&n.hasOwnProperty(s)?i.options[s]=n[s]:void 0!==i.options[s]&&!0!==o||(i.options[s]=a[s]);if(0==i.options.resetButton?l.style.display="none":l.style.display="",i.options.readonly?t.setAttribute("readonly","readonly"):t.removeAttribute("readonly"),i.options.placeholder?t.setAttribute("placeholder",i.options.placeholder):t.removeAttribute("placeholder"),e.isNumeric(i.options.value)&&i.options.value>0&&(i.options.value=e.calendar.numToDate(i.options.value),i.options.dataType="numeric"),l.innerHTML=i.options.textReset,d.innerHTML=i.options.textDone,y.innerHTML=i.options.textUpdate,t.setAttribute("data-mask",i.options.format.toLowerCase()),!i.options.value&&i.options.today)var r=e.calendar.now();else r=i.options.value;return r&&(i.options.value=null,i.setValue(r)),i},open:function(n){if(!r.classList.contains("jcalendar-focus")&&!r.classList.contains("jcalendar-inline")){if(e.calendar.current=i,e.tracking(i,!0),i.getDays(),"year-month-picker"==i.options.type&&i.getMonths(),i.options.time&&(w.value=i.date[3],b.value=i.date[4]),r.classList.add("jcalendar-focus"),e.getWindowWidth()<800||i.options.fullscreen)r.classList.add("jcalendar-fullsize"),e.animation.slideBottom(u,1);else{r.classList.remove("jcalendar-fullsize");var o=t.getBoundingClientRect(),a=u.getBoundingClientRect();if(i.options.position)c.style.position="fixed",window.innerHeight<o.bottom+a.height?c.style.top=o.top-(a.height+2)+"px":c.style.top=o.top+o.height+2+"px",c.style.left=o.left+"px";else if(window.innerHeight<o.bottom+a.height?((s=-1*(o.height+a.height+2))+o.top<0&&(s=-1*(o.top+o.height)),c.style.top=s+"px"):c.style.top="2px",window.innerWidth<o.left+a.width){var s=window.innerWidth-(o.left+a.width+20);c.style.left=s+"px"}else c.style.left="0px"}"function"==typeof i.options.onopen&&i.options.onopen(t)}},close:function(n,o){if(r.classList.contains("jcalendar-focus")){if(!1!==o){var a=r.querySelector(".jcalendar-selected");if("string"==typeof o)var s=o;else s=!a||a.classList.contains("jcalendar-disabled")?i.options.value:i.getValue();i.setValue(s)}n||"function"!=typeof i.options.onclose||i.options.onclose(t),r.classList.remove("jcalendar-focus"),e.tracking(i,!1),e.calendar.current=null}return i.options.value},prev:function(){"years"==i.options.mode?(i.date[0]=i.date[0]-12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])-1,i.getMonths()):(i.date[1]<2?(i.date[0]=i.date[0]-1,i.date[1]=12):i.date[1]=i.date[1]-1,i.getDays())},next:function(){"years"==i.options.mode?(i.date[0]=parseInt(i.date[0])+12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])+1,i.getMonths()):(i.date[1]>11?(i.date[0]=parseInt(i.date[0])+1,i.date[1]=1):i.date[1]=parseInt(i.date[1])+1,i.getDays())},setToday:function(){var e=(new Date).toISOString().substr(0,10);return i.setValue(e),e},setValue:function(n){n||(n=""+n);var o=n,a=i.options.value;if(a!=o){if(o){i.setLabel(o,i.options),(r=o.split(" "))[1]||(r[1]="00:00:00");var s=r[1].split(":"),r=r[0].split("-"),l=parseInt(r[0]),d=parseInt(r[1]),c=parseInt(r[2]),u=parseInt(s[0]),p=parseInt(s[1]);i.date=[l,d,c,u,p,0],n=i.setLabel(o,i.options);var h=e.calendar.now(new Date(l,d-1,c),!0);if(i.options.validRange){if(!i.options.validRange[0]||h>=i.options.validRange[0])var f=!0;else f=!1;if(!i.options.validRange[1]||h<=i.options.validRange[1])var m=!0;else m=!1;f&&m?(t.classList.remove("jcalendar_warning"),t.title=""):(t.classList.add("jcalendar_warning"),t.title=e.translate("Date outside the valid range"))}else t.classList.remove("jcalendar_warning"),t.title=""}else{i.date=null;n="";t.classList.remove("jcalendar_warning"),t.title=""}i.options.value=o,"function"==typeof i.options.onchange&&i.options.onchange(t,o,a),t.value!=n&&(t.value=n,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value}))}i.getDays(),"year-month-picker"==i.options.type&&i.getMonths()},getValue:function(){return i.date?i.options.time?e.two(i.date[0])+"-"+e.two(i.date[1])+"-"+e.two(i.date[2])+" "+e.two(i.date[3])+":"+e.two(i.date[4])+":"+e.two(0):e.two(i.date[0])+"-"+e.two(i.date[1])+"-"+e.two(i.date[2])+" "+e.two(0)+":"+e.two(0)+":"+e.two(0):""},update:function(e,t){if(e.classList.contains("jcalendar-disabled"));else{var n=r.querySelector(".jcalendar-selected");n&&n.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected"),e.classList.contains("jcalendar-set-month")?(i.date[1]=t,i.date[2]=1):i.date[2]=e.innerText,i.options.time?(i.date[3]=w.value,i.date[4]=b.value):i.close()}s()},reset:function(){i.setValue(""),i.date=null,i.close(!1,!1)},getDays:function(){i.options.mode="days";var t=new Date,n=i.date&&e.isNumeric(i.date[0])?i.date[0]:parseInt(t.getFullYear()),o=i.date&&e.isNumeric(i.date[1])?i.date[1]:parseInt(t.getMonth())+1,a=i.date&&e.isNumeric(i.date[2])?i.date[2]:parseInt(t.getDate()),r=i.date&&e.isNumeric(i.date[3])?i.date[3]:parseInt(t.getHours()),l=i.date&&e.isNumeric(i.date[4])?i.date[4]:parseInt(t.getMinutes());i.date=[n,o,a,r,l,0],p.innerHTML=n,h.innerHTML=i.options.months[o-1];var d=t.getMonth()==o-1&&t.getFullYear()==n,c=t.getDate(),u=(t=new Date(n,o,0,0,0)).getDate(),f=(t=new Date(n,o-1,0,0,0)).getDay()+1;f-=x=i.options.startingDay||0,m.innerHTML="",(b=document.createElement("tr")).setAttribute("align","center"),m.appendChild(b);for(var v=0;v<7;v++)(L=document.createElement("td")).classList.add("jcalendar-weekday"),L.innerHTML=i.options.weekdays[x].substr(0,1),b.appendChild(L),++x>6&&(x=0);for(var x=0,y=0,w=0;w<6;w++){var b;for((b=document.createElement("tr")).setAttribute("align","center"),b.style.height="34px",v=0;v<7;v++){var L;if((L=document.createElement("td")).classList.add("jcalendar-set-day"),x>=f&&x<f+u){y++,L.innerHTML=y,y==a&&L.classList.add("jcalendar-selected"),d&&c==y&&(L.style.fontWeight="bold");var j=e.calendar.now(new Date(n,o-1,y),!0);if(i.options.validRange){if(!i.options.validRange[0]||j>=i.options.validRange[0])var C=!0;else C=!1;if(!i.options.validRange[1]||j<=i.options.validRange[1])var E=!0;else E=!1;C&&E||L.classList.add("jcalendar-disabled")}}b.appendChild(L),x++}m.appendChild(b)}i.options.time?g.style.display="":g.style.display="none",s()},getMonths:function(){i.options.mode="months";var t=i.options.months,n=(i.options.value,new Date),o=parseInt(n.getFullYear()),a=parseInt(n.getMonth())+1,r=i.date&&e.isNumeric(i.date[0])?i.date[0]:o,l=i.date&&e.isNumeric(i.date[1])?i.date[1]:a;p.innerHTML=i.date[0],h.innerHTML=t[l-1];var d=document.createElement("table");d.setAttribute("width","100%");for(var c=null,u=0;u<12;u++){u%4||((c=document.createElement("tr")).setAttribute("align","center"),d.appendChild(c));var f=document.createElement("td");if(f.classList.add("jcalendar-set-month"),f.setAttribute("data-value",u+1),f.innerText=t[u],i.options.validRange){var v=r+"-"+e.two(u+1);if(!i.options.validRange[0]||v>=i.options.validRange[0].substr(0,7))var g=!0;else g=!1;if(!i.options.validRange[1]||v<=i.options.validRange[1].substr(0,7))var x=!0;else x=!1;g&&x||f.classList.add("jcalendar-disabled")}u+1==l&&f.classList.add("jcalendar-selected"),o==r&&u+1==a&&(f.style.fontWeight="bold"),c.appendChild(f)}m.innerHTML='<tr><td colspan="7"></td></tr>',m.children[0].children[0].appendChild(d),s()},getYears:function(){i.options.mode="years";for(var t=new Date,n=t.getFullYear(),o=i.date&&e.isNumeric(i.date[0])?i.date[0]:parseInt(t.getFullYear()),a=[],r=0;r<25;r++)a[r]=parseInt(i.date[0])+(r-12);var l=document.createElement("table");for(l.setAttribute("width","100%"),r=0;r<25;r++){if(!(r%5)){var d=document.createElement("tr");d.setAttribute("align","center"),l.appendChild(d)}var c=document.createElement("td");c.classList.add("jcalendar-set-year"),c.innerText=a[r],o==a[r]&&c.classList.add("jcalendar-selected"),n==a[r]&&(c.style.fontWeight="bold"),d.appendChild(c)}m.innerHTML='<tr><td colspan="7"></td></tr>',m.firstChild.firstChild.appendChild(l),s()},setLabel:function(t,n){return e.calendar.getDateString(t,n)},fromFormatted:function(t,n){return e.calendar.extractDateFromString(t,n)}},o=function(t){if(e.findElement(t.target,"jcalendar-container")){var n=t.target.className;if("jcalendar-prev"==n)i.prev();else if("jcalendar-next"==n)i.next();else if("jcalendar-month"==n)i.getMonths();else if("jcalendar-year"==n)i.getYears();else if("jcalendar-set-year"==n)i.date[0]=t.target.innerText,"year-month-picker"==i.options.type?i.getMonths():i.getDays();else if(t.target.classList.contains("jcalendar-set-month")){var o=parseInt(t.target.getAttribute("data-value"));"year-month-picker"==i.options.type?i.update(t.target,o):(i.date[1]=o,i.getDays())}else"jcalendar-confirm"==n||"jcalendar-update"==n||"jcalendar-close"==n?i.close():"jcalendar-backdrop"==n?i.close(!1,!1):"jcalendar-reset"==n?i.reset():t.target.classList.contains("jcalendar-set-day")&&t.target.innerText&&i.update(t.target)}else i.close()},a=function(t){if(t.target.value&&t.target.value.length>3){var n=e.calendar.extractDateFromString(t.target.value,i.options.format);n&&i.setValue(n)}},s=function(){var e=r.querySelector(".jcalendar-selected");e&&e.classList.contains("jcalendar-disabled")?(y.setAttribute("disabled","disabled"),w.setAttribute("disabled","disabled"),b.setAttribute("disabled","disabled")):(y.removeAttribute("disabled"),w.removeAttribute("disabled"),b.removeAttribute("disabled")),"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())},r=null,l=null,d=null,c=null,u=null,p=null,h=null,f=null,m=null,v=null,g=null,x=null,y=null,w=null,b=null;return function(){"INPUT"==t.tagName&&t.value&&(n.value=t.value),(l=document.createElement("div")).className="jcalendar-reset",(d=document.createElement("div")).className="jcalendar-confirm",(v=document.createElement("div")).className="jcalendar-controls",v.style.borderBottom="1px solid #ddd",v.appendChild(l),v.appendChild(d),(c=document.createElement("div")).className="jcalendar-container",(u=document.createElement("div")).className="jcalendar-content",c.appendChild(u),"DIV"==t.tagName?(r=t).classList.add("jcalendar-inline"):(u.appendChild(v),(r=document.createElement("div")).className="jcalendar"),r.classList.add("jcalendar-container"),r.appendChild(c);var s=document.createElement("div");s.className="jcalendar-table",u.appendChild(s);var L=document.createElement("td");L.setAttribute("colspan","2"),L.className="jcalendar-prev",(p=document.createElement("span")).className="jcalendar-year",(h=document.createElement("span")).className="jcalendar-month";var j=document.createElement("td");j.className="jcalendar-header",j.setAttribute("colspan","3"),j.appendChild(h),j.appendChild(p);var C=document.createElement("td");C.setAttribute("colspan","2"),C.className="jcalendar-next";var E=document.createElement("thead"),T=document.createElement("tr");T.appendChild(L),T.appendChild(j),T.appendChild(C),E.appendChild(T),f=document.createElement("table"),m=document.createElement("tbody"),f.setAttribute("cellpadding","0"),f.setAttribute("cellspacing","0"),f.appendChild(E),f.appendChild(m),s.appendChild(f),(w=document.createElement("select")).className="jcalendar-select",w.onchange=function(){i.date[3]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())};for(var k=0;k<24;k++)(M=document.createElement("option")).value=k,M.innerHTML=e.two(k),w.appendChild(M);for((b=document.createElement("select")).className="jcalendar-select",b.onchange=function(){i.date[4]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())},k=0;k<60;k++){var M;(M=document.createElement("option")).value=k,M.innerHTML=e.two(k),b.appendChild(M)}var O=document.createElement("div");O.className="jcalendar-controls",(g=document.createElement("div")).className="jcalendar-time",g.style.maxWidth="140px",g.appendChild(w),g.appendChild(b),(y=document.createElement("button")).setAttribute("type","button"),y.className="jcalendar-update",(x=document.createElement("div")).style.flexGrow="10",x.appendChild(y),O.appendChild(g),"INPUT"==t.tagName&&O.appendChild(x),u.appendChild(O);var A=document.createElement("div");A.className="jcalendar-backdrop",r.appendChild(A),t.addEventListener("keyup",a),r.addEventListener("swipeleft",(function(t){e.animation.slideLeft(f,0,(function(){i.next(),e.animation.slideRight(f,1)})),t.preventDefault(),t.stopPropagation()})),r.addEventListener("swiperight",(function(t){e.animation.slideRight(f,0,(function(){i.prev(),e.animation.slideLeft(f,1)})),t.preventDefault(),t.stopPropagation()})),"ontouchend"in document.documentElement==1?(r.addEventListener("touchend",o),t.addEventListener("touchend",i.open)):(r.addEventListener("mouseup",o),t.addEventListener("mouseup",i.open)),e.calendar.hasEvents||(e.calendar.hasEvents=!0,document.addEventListener("keydown",e.calendar.keydown)),i.setOptions(n),"INPUT"==t.tagName?(t.parentNode.insertBefore(r,t.nextSibling),t.setAttribute("autocomplete","off"),t.classList.add("jcalendar-input"),t.value=i.setLabel(i.getValue(),i.options)):(i.getDays(),i.options.time&&(w.value=i.date[3],b.value=i.date[4])),1==i.options.opened&&i.open(),0==i.options.controls&&c.classList.add("jcalendar-hide-controls"),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.calendar=r.calendar=i}(),i},e.calendar.keydown=function(t){var n=null;(n=e.calendar.current)&&(13==t.which?n.close(!1,!0):27==t.which&&n.close(!1,!1))},e.calendar.prettify=function(e,t){t||(t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"});var n=new Date,i=new Date(e),o=parseInt((n-i)/1e3/60);if(String.prototype.format=function(e){return this.replace("{0}",e)},0==o)var a=t.justNow;else a=o<90?t.xMinutesAgo.format(o):o<1440?t.xHoursAgo.format(Math.round(o/60)):o<20160?t.xDaysAgo.format(Math.round(o/1440)):o<43200?t.xWeeksAgo.format(Math.round(o/10080)):o<1036800?t.xMonthsAgo.format(Math.round(o/43200)):t.xYearsAgo.format(Math.round(o/525600));return a},e.calendar.prettifyAll=function(){for(var t=document.querySelectorAll(".prettydate"),n=0;n<t.length;n++)t[n].getAttribute("data-date")?t[n].innerHTML=e.calendar.prettify(t[n].getAttribute("data-date")):t[n].innerHTML&&(t[n].setAttribute("title",t[n].innerHTML),t[n].setAttribute("data-date",t[n].innerHTML),t[n].innerHTML=e.calendar.prettify(t[n].innerHTML))},e.calendar.now=function(t,n){if(Array.isArray(t))var i=t[0],o=t[1],a=t[2],s=t[3],r=t[4],l=t[5];else t||(t=new Date),i=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),s=t.getHours(),r=t.getMinutes(),l=t.getSeconds();return 1==n?e.two(i)+"-"+e.two(o)+"-"+e.two(a):e.two(i)+"-"+e.two(o)+"-"+e.two(a)+" "+e.two(s)+":"+e.two(r)+":"+e.two(l)},e.calendar.toArray=function(e){var t=(n=e.split(-1!==e.indexOf("T")?"T":" "))[1],n=n[0].split("-"),i=parseInt(n[0]),o=parseInt(n[1]),a=parseInt(n[2]);if(t){t=t.split(":");var s=parseInt(t[0]),r=parseInt(t[1])}else s=0,r=0;return[i,o,a,s,r,0]},e.calendar.extractDateFromString=function(t,n){var i=e.mask(t,{mask:n},!0);if(t>0&&Number(t)==t&&(i.values.join("")!==i.value||"numeric"==i.type)){var o=new Date(Math.round(86400*(t-25569)*1e3));return o.getFullYear()+"-"+e.two(o.getMonth())+"-"+e.two(o.getDate())+" 00:00:00"}var a=!1;return i.values.length===i.tokens.length&&i.values[i.values.length-1].length>=i.tokens[i.tokens.length-1].length&&(a=!0),i.date[0]&&i.date[1]&&(i.date[2]||a)?(i.date[2]||(i.date[2]=1),i.date[0]+"-"+e.two(i.date[1])+"-"+e.two(i.date[2])+" "+e.two(i.date[3])+":"+e.two(i.date[4])+":"+e.two(i.date[5])):""};var t,n,i=Date.UTC(1900,0,0),o=Date.UTC(1900,1,29),a=864e5;return e.calendar.dateToNum=function(e){"string"==typeof e&&(e=new Date(e+"  GMT+0"));var t=e.getTime();return t>=o&&(t+=a),(t-=i)/a},e.calendar.numToDate=function(t){var n=i+t*a;n>=o&&(n-=a);const s=new Date(n);var r=[s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds()];return e.calendar.now(r)},e.calendar.getDateString=function(t,n){if(n||(n={}),n&&"object"==typeof n)var i=n.format;else i=n;if(i||(i="YYYY-MM-DD"),i.indexOf("[h]")>=0){var o=0;if(t&&e.isNumeric(t)&&(o=parseFloat(24*Number(t)),i.indexOf("mm")>=0)){if((u=(""+o).split("."))[1]){var a=60*parseFloat("0."+u[1]);a=parseFloat(a.toFixed(2))}else a=0;o=parseInt(u[0])+":"+e.two(a)}return o}t instanceof Date?t=e.calendar.now(t):t&&e.isNumeric(t)&&(t=e.calendar.numToDate(t));for(var s=new RegExp(["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."].join("|"),"gi"),r=i.match(s),l=0;l<r.length;l++)"MM"==r[l].toUpperCase()&&(r[l-1]&&r[l-1].toUpperCase().indexOf("H")>=0||r[l-2]&&r[l-2].toUpperCase().indexOf("H")>=0||r[l+1]&&r[l+1].toUpperCase().indexOf("S")>=0||r[l+2]&&r[l+2].toUpperCase().indexOf("S")>=0)&&(r[l]="mi");var d={tokens:r};if(t){var c=-1!==(a=""+t).indexOf("T")?"T":" ",u=0,p=0,h=0;if((a=a.split(c))[1]&&(p=(u=a[1].split(":"))[1]?u[1]:0,h=u[2]?u[2]:0,u=u[0]?u[0]:0),(a=a[0].split("-"))[0]&&a[1]&&a[2]&&a[0]>0&&a[1]>0&&a[1]<13&&a[2]>0&&a[2]<32){d.data=[a[0],a[1],a[2],u,p,h],d.value=[];var f=new Date(d.data[0],d.data[1]-1,d.data[2],d.data[3],d.data[4],d.data[5]),m=function(t){var n=this.tokens[t],i=n.toUpperCase(),o=null;"YYYY"===i?o=this.data[0]:"YYY"===i?o=this.data[0].substring(1,4):"YY"===i?o=this.data[0].substring(2,4):"Y"===i?o=this.data[0].substring(3,4):"MON"===n?o=e.calendar.months[f.getMonth()].substr(0,3).toUpperCase():"mon"===n?o=e.calendar.months[f.getMonth()].substr(0,3).toLowerCase():"MONTH"===n?o=e.calendar.months[f.getMonth()].toUpperCase():"month"===n?o=e.calendar.months[f.getMonth()].toLowerCase():"MMMMM"===i?o=e.calendar.months[f.getMonth()].substr(0,1):"MMMM"===i||"Month"===n?o=e.calendar.months[f.getMonth()]:"MMM"===i||"Mon"==n?o=e.calendar.months[f.getMonth()].substr(0,3):"MM"===i?o=e.two(this.data[1]):"M"===i?o=f.getMonth()+1:"DAY"===n?o=e.calendar.weekdays[f.getDay()].toUpperCase():"day"===n?o=e.calendar.weekdays[f.getDay()].toLowerCase():"DDDD"===i||"Day"==n?o=e.calendar.weekdays[f.getDay()]:"DDD"===i?o=e.calendar.weekdays[f.getDay()].substr(0,3):"DD"===i?o=e.two(this.data[2]):"D"===i?o=this.data[2]:"Q"===i?o=Math.floor((f.getMonth()+3)/3):"HH24"===i||"HH"===i?o=e.two(this.data[3]):"HH12"===i?o=this.data[3]>12?e.two(this.data[3]-12):e.two(this.data[3]):"H"===i?o=this.data[3]:"MI"===i?o=e.two(this.data[4]):"SS"===i?o=e.two(this.data[5]):"MS"===i?o=f.getMilliseconds():"AM/PM"===i?o=this.data[3]>=12?"PM":"AM":"WD"===i&&(o=e.calendar.weekdays[f.getDay()]),this.value[t]=null===o?this.tokens[t]:o};for(l=0;l<d.tokens.length;l++)m.call(d,l);t=d.value.join("")}else t=""}return t},e.calendar.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.calendar.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.calendar.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.calendar.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.color=function(t,n){if(t.color)return t.color.setOptions(n,!0);var i={type:"color",options:{}},o=null,a=null,s=null,r=null,l=null,d=null,c=null;i.setOptions=function(n,o){var a={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(var s in n||(n={}),n&&!n.palette&&(n.palette=e.palette()),a)n&&n.hasOwnProperty(s)?i.options[s]=n[s]:void 0!==i.options[s]&&!0!==o||(i.options[s]=a[s]);return r&&(r.innerHTML=i.options.resetLabel),l&&(l.innerHTML=i.options.doneLabel),i.options.palette&&c&&c.updateContent(0,m()),"string"==typeof i.options.value&&(t.value=i.options.value,"INPUT"===t.tagName&&(t.style.color=t.value,t.style.backgroundColor=t.value)),i.options.placeholder?t.setAttribute("placeholder",i.options.placeholder):t.getAttribute("placeholder")&&t.removeAttribute("placeholder"),i},i.select=function(e){var t=o.querySelector(".jcolor-selected");t&&t.classList.remove("jcolor-selected"),i.values[e]&&i.values[e].classList.add("jcolor-selected"),i.options.value=e},i.open=function(){if(!o.classList.contains("jcolor-focus")){e.tracking(i,!0),o.classList.add("jcolor-focus"),i.options.value&&i.select(i.options.value),s.style.marginTop="",s.style.marginLeft="";var n=s.getBoundingClientRect(),r=e.getWindowWidth(),l=e.getWindowHeight();if(r<800||1==i.options.fullscreen?(s.classList.add("jcolor-fullscreen"),e.animation.slideBottom(s,1),a.style.display="block"):(s.classList.contains("jcolor-fullscreen")&&(s.classList.remove("jcolor-fullscreen"),a.style.display=""),i.options.position?s.style.position="fixed":s.style.position="",n.left+n.width>r&&(s.style.marginLeft=-1*(n.left+n.width-(r-20))+"px"),n.top+n.height>l&&(s.style.marginTop=-1*(n.top+n.height-(l-20))+"px")),"function"==typeof i.options.onopen&&i.options.onopen(t),c.setBorder(c.getActive()),i.options.value){var d=f(i.options.value);L.forEach((function(e,t){e.value=d[t],e.dispatchEvent(new Event("input"))}))}}},i.close=function(n){return o.classList.contains("jcolor-focus")&&(o.classList.remove("jcolor-focus"),a.style.display="",n||"function"!=typeof i.options.onclose||i.options.onclose(t),e.tracking(i,!1)),i.options.value},i.setValue=function(e){e||(e=""),e!=i.options.value&&(i.options.value=e,b=e,i.select(e),"function"==typeof i.options.onchange&&i.options.onchange(t,e),t.value!=i.options.value&&(t.value=i.options.value,"INPUT"===t.tagName&&(t.style.color=t.value,t.style.backgroundColor=t.value),"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value})),1==i.options.closeOnChange&&i.close())},i.getValue=function(){return i.options.value};var u=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},p=function(e,t,n){return"#"+u(e)+u(t)+u(n)},h=function(e){return parseInt("0x"+e)},f=function(e){return[h(e.substr(1,2)),h(e.substr(3,2)),h(e.substr(5,2))]},m=function(){var e=document.createElement("div");e.className="jcolor-grid",i.values=[];var t=document.createElement("table");t.setAttribute("cellpadding","7"),t.setAttribute("cellspacing","0");for(var n=0;n<i.options.palette.length;n++){for(var o=document.createElement("tr"),a=0;a<i.options.palette[n].length;a++){var s=document.createElement("td"),r=i.options.palette[n][a];r.length<7&&"#"!==r.substr(0,1)&&(r="#"+r),s.style.backgroundColor=r,s.setAttribute("data-value",r),s.innerHTML="",o.appendChild(s),i.options.value==r&&s.classList.add("jcolor-selected"),i.values[r]=s}t.appendChild(o)}return e.appendChild(t),e},v=document.createElement("canvas");v.width=200,v.height=160;var g=v.getContext("2d"),x=function(){var e=d.firstChild.getBoundingClientRect();v.width=e.width-14,y()},y=function(){var e=g.createLinearGradient(0,0,v.width,0);e.addColorStop(0,"rgb(255,0,0)"),e.addColorStop(.15,"rgb(255,0,255)"),e.addColorStop(.33,"rgb(0,0,255)"),e.addColorStop(.49,"rgb(0,255,255)"),e.addColorStop(.67,"rgb(0,255,0)"),e.addColorStop(.84,"rgb(255,255,0)"),e.addColorStop(1,"rgb(255,0,0)"),g.fillStyle=e,g.fillRect(0,0,v.width,v.height),(e=g.createLinearGradient(0,0,0,v.height)).addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(.5,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),g.fillStyle=e,g.fillRect(0,0,v.width,v.height)},w=function(){var e=document.createElement("div");e.className="jcolor-hsl";var t=document.createElement("div");t.className="jcolor-point";var n=document.createElement("div");n.appendChild(v),n.appendChild(t),e.appendChild(n);var i=function(n,i,o){if(1===n){var a=e.getBoundingClientRect(),s=i-a.left,r=o-a.top;s<0&&(s=0),r<0&&(r=0),s>a.width&&(s=a.width),r>a.height&&(r=a.height),t.style.left=s+"px",t.style.top=r+"px";var l=g.getImageData(s,r,1,1).data;b=p(l[0],l[1],l[2])}};return e.addEventListener("mousedown",(function(e){i(e.buttons,e.clientX,e.clientY)})),e.addEventListener("mousemove",(function(e){i(e.buttons,e.clientX,e.clientY)})),e.addEventListener("touchmove",(function(e){i(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)})),e},b="",L=[],j=function(){var e=document.createElement("div");e.className="jcolor-sliders";var t=document.createElement("div"),n=function(e){var n=document.createElement("div");n.className="jcolor-sliders-input-container";var i=document.createElement("label");i.innerText=e;var o=document.createElement("div");o.className="jcolor-sliders-input-subcontainer";var a=document.createElement("input");a.type="range",a.min=0,a.max=255,a.value=0,n.appendChild(i),o.appendChild(a);var s=document.createElement("div");return s.innerText=a.value,a.addEventListener("input",(function(){s.innerText=a.value})),o.appendChild(s),n.appendChild(o),t.appendChild(n),a};L=[n("Red"),n("Green"),n("Blue")],e.appendChild(t);var i=document.createElement("div");i.className="jcolor-sliders-final-color";var o=document.createElement("div");o.style.visibility="hidden",o.innerText="a",i.appendChild(o);return L.forEach((function(e){e.addEventListener("input",(function(){var e;e=p(parseInt(L[0].value),parseInt(L[1].value),parseInt(L[2].value)),o.innerText=e,o.style.color=e,o.style.removeProperty("visibility"),b=e,function(){if(""!==b)for(var e=0;e<L.length;e++){var t=f(b);t[e]=0;var n="linear-gradient(90deg, rgb(";n+=t.join(", "),n+="), rgb(",t[e]=255,n+=t.join(", "),n+="))",L[e].style.backgroundImage=n}}()}))})),e.appendChild(i),e};return i.toHex=function(e){var t=function(e){return("0"+parseInt(e).toString(16)).slice(-2)};if(e)return/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))&&e.length?"#"+t(e[1])+t(e[2])+t(e[3]):""},function(){i.setOptions(n),"INPUT"==t.tagName&&(t.classList.add("jcolor-input"),t.readOnly=!0),(o=document.createElement("div")).className="jcolor",(a=document.createElement("div")).className="jcolor-backdrop",o.appendChild(a),(s=document.createElement("div")).className="jcolor-content";var u=document.createElement("div");u.className="jcolor-controls",s.appendChild(u),(r=document.createElement("div")).className="jcolor-reset",r.innerHTML=i.options.resetLabel,u.appendChild(r),(l=document.createElement("div")).className="jcolor-close",l.innerHTML=i.options.doneLabel,u.appendChild(l),d=document.createElement("div"),s.appendChild(d),c=e.tabs(d,{animation:!0,data:[{title:"Grid",contentElement:m()},{title:"Spectrum",contentElement:w()},{title:"Sliders",contentElement:j()}],onchange:function(e,t,n){if(1===n)x();else{var o=""!==b?b:i.getValue();if(2===n&&o){var a=f(o);L.forEach((function(e,t){e.value=a[t],e.dispatchEvent(new Event("input"))}))}}},palette:"modern"}),o.appendChild(s),"INPUT"==t.tagName?t.parentNode.insertBefore(o,t.nextSibling):t.appendChild(o),o.addEventListener("click",(function(e){if("TD"==e.target.tagName){var t=e.target.getAttribute("data-value");t&&i.setValue(t)}else e.target.classList.contains("jcolor-reset")?(i.setValue(""),i.close()):e.target.classList.contains("jcolor-close")?(c.getActive()>0&&i.setValue(b),i.close()):e.target.classList.contains("jcolor-backdrop")?i.close():i.open()})),t.addEventListener("mouseup",(function(e){i.open()})),window.addEventListener("resize",(function(){o.classList.contains("jcolor-focus")&&1==c.getActive()&&x()})),1==i.options.opened&&i.open(),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.color=i,o.color=i}(),i},e.contextmenu=function(t,n){var i={type:"contextmenu",options:{}},o={items:null,onclick:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];function s(e){if(!e.type||"line"!=e.type&&"divisor"!=e.type){d=document.createElement("div");var t=document.createElement("a");if(t.innerHTML=e.title,e.tooltip&&d.setAttribute("title",e.tooltip),e.icon&&d.setAttribute("data-icon",e.icon),e.id&&(d.id=e.id),e.disabled?d.className="jcontextmenu-disabled":e.onclick&&(d.method=e.onclick,d.addEventListener("mousedown",(function(e){e.preventDefault()})),d.addEventListener("mouseup",(function(e){this.method(this,e)}))),d.appendChild(t),e.submenu){var n=document.createElement("span");n.innerHTML="&#9658;",d.appendChild(n),d.classList.add("jcontexthassubmenu");var i=document.createElement("div");i.classList.add("jcontextmenu"),i.setAttribute("tabindex","900");for(var o=e.submenu,a=0;a<o.length;a++){var r=s(o[a]);i.appendChild(r)}d.appendChild(i)}else if(e.shortcut){var l=document.createElement("span");l.innerHTML=e.shortcut,d.appendChild(l)}}else var d=document.createElement("hr");return d}return t.classList.add("jcontextmenu"),i.open=function(n,o){if(o&&(i.options.items=o,i.create(o)),e.contextmenu.current&&e.contextmenu.current.close(),e.tracking(i,!0),t.classList.add("jcontextmenu-focus"),e.contextmenu.current=i,i.options.items&&i.options.items.length>0||t.children.length){if(n.target)if(n.changedTouches&&n.changedTouches[0])a=n.changedTouches[0].clientX,s=n.changedTouches[0].clientY;else var a=n.clientX,s=n.clientY;else a=n.x,s=n.y;var r=t.getBoundingClientRect();if(window.innerHeight<s+r.height){var l=s-r.height;l<0&&(l=0),t.style.top=l+"px"}else t.style.top=s+"px";window.innerWidth<a+r.width?a-r.width>0?t.style.left=a-r.width+"px":t.style.left="10px":t.style.left=a+"px"}},i.isOpened=function(){return!!t.classList.contains("jcontextmenu-focus")},i.close=function(){t.classList.contains("jcontextmenu-focus")&&t.classList.remove("jcontextmenu-focus"),e.tracking(i,!1)},i.create=function(n){t.innerHTML="";var o=function(){var t=document.createElement("div");t.classList.add("header"),t.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}));var n=document.createElement("a");n.classList.add("title"),n.innerHTML=e.translate("Menu"),t.appendChild(n);var o=document.createElement("a");return o.classList.add("close"),o.innerHTML=e.translate("close"),o.addEventListener("click",(function(e){i.close()})),t.appendChild(o),t}();t.appendChild(o);for(var a=0;a<n.length;a++){var r=s(n[a]);t.appendChild(r)}},"function"==typeof i.options.onclick&&t.addEventListener("click",(function(e){i.options.onclick(i,e)})),i.options.items&&i.create(i.options.items),window.addEventListener("mousewheel",(function(){i.close()})),t.contextmenu=i,i},e.dropdown=function(t,n){if(t.dropdown)return t.dropdown.setOptions(n,!0);var i={type:"dropdown",options:{}},o=function(e,n){e&&e.length&&(!1!==i.options.sortResults&&("function"==typeof i.options.sortResults?e.sort(i.options.sortResults):e.sort(a)),i.setData(e)),"function"==typeof i.options.onload&&i.options.onload(t,i,e,n),n&&r(n),null==n&&(i.options.value=""),t.value=i.options.value,1==i.options.opened&&i.open()},a=function(e,t){var n,i;return"string"==typeof e?n=e:e.text?n=e.text:e.name&&(n=e.name),"string"==typeof t?i=t:t.text?i=t.text:t.name&&(i=t.name),"string"==typeof n||"string"==typeof i?("string"!=typeof n&&(n=""+n),"string"!=typeof i&&(i=""+i),n.localeCompare(i)):n-i},s=function(){i.value={};for(var e=0;e<i.items.length;e++)1==i.items[e].selected&&(i.items[e].element&&i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=null);i.options.value="",t.value=""},r=function(e){if(s(),null!==e)if(e){Array.isArray(e)||(e=(""+e).split(";"));for(var t=0;t<e.length;t++)i.value[e[t]]=""}else void 0!==i.value[""]&&(i.value[""]="");for(t=0;t<i.items.length;t++)void 0!==i.value[l(t)]&&(i.items[t].element&&i.items[t].element.classList.add("jdropdown-selected"),i.items[t].selected=!0,i.value[l(t)]=d(t));i.options.value=Object.keys(i.value).join(";"),i.header.value=i.getText()},l=function(e,t){if(i.options.format)n="id";else var n="value";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},d=function(e,t){if(i.options.format)n="name";else var n="text";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},c=function(){return Object.keys(i.value)},u=function(){for(var e=[],t=Object.keys(i.value),n=0;n<t.length;n++)e.push(i.value[t[n]]);return e};i.setOptions=function(n,a){n||(n={});var s={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,sortResults:!1,autofocus:!1};for(var r in s)n&&n.hasOwnProperty(r)?i.options[r]=n[r]:void 0!==i.options[r]&&!0!==a||(i.options[r]=s[r]);return 1!=i.options.remoteSearch&&"searchbar"!==i.options.type||(i.options.autocomplete=!0),1==i.options.newOptions?i.header.classList.add("jdropdown-add"):i.header.classList.remove("jdropdown-add"),1==i.options.autocomplete?i.header.removeAttribute("readonly"):i.header.setAttribute("readonly","readonly"),i.options.placeholder?i.header.setAttribute("placeholder",i.options.placeholder):i.header.removeAttribute("placeholder"),t.classList.remove("jdropdown-searchbar"),t.classList.remove("jdropdown-picker"),t.classList.remove("jdropdown-list"),"searchbar"==i.options.type?t.classList.add("jdropdown-searchbar"):"list"==i.options.type?t.classList.add("jdropdown-list"):"picker"==i.options.type?t.classList.add("jdropdown-picker"):e.getWindowWidth()<800?i.options.autocomplete?(t.classList.add("jdropdown-searchbar"),i.options.type="searchbar"):(t.classList.add("jdropdown-picker"),i.options.type="picker"):(i.options.width?(t.style.width=i.options.width,t.style.minWidth=i.options.width):(t.style.removeProperty("width"),t.style.removeProperty("min-width")),t.classList.add("jdropdown-default"),i.options.type="default"),"searchbar"==i.options.type?p.appendChild(m):h.insertBefore(m,h.firstChild),i.options.url&&!n.data?e.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){e&&o(e,i.options.value)}}):o(i.options.data,i.options.value),i};var p=null,h=null,f=null,m=null,v=null,g=null,x=null;i.getUrl=function(){return i.options.url},i.setUrl=function(t,n){i.options.url=t,e.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){i.setData(e),"function"==typeof n&&n(i)}})},i.setId=function(e,t){if(i.options.format)n="id";else var n="value";"object"==typeof e?e[n]=t:i.items[e].data[n]=t},i.add=function(t,n){if(!t){var o=1==i.options.autocomplete?i.header.value:"";if(!(t=prompt(e.translate("Add A New Option"),o)))return!1}if(n||(n=e.guid()),i.options.format)a={id:n,name:t};else var a={value:n,text:t};if("function"==typeof i.options.onbeforeinsert){var s=i.options.onbeforeinsert(i,a);if(!1===s)return!1;s&&(a=s)}i.options.data.push(a);var r=i.createItem(a);return f.appendChild(r.element),"function"==typeof i.options.oninsert&&i.options.oninsert(i,a,r),"none"==f.style.display&&(f.style.display=""),i.results&&i.results.push(r),a},i.createItem=function(e,t,n){i.options.format?(e.id||void 0===e.value||(e.id=e.value),e.name||void 0===e.text||(e.name=e.text)):(e.value||void 0===e.id||(e.value=e.id),e.text||void 0===e.name||(e.text=e.name));var o={};if(o.element=document.createElement("div"),o.element.className="jdropdown-item",o.element.indexValue=i.items.length,o.data=e,t&&(o.group=t),e.id&&o.element.setAttribute("id",e.id),1==e.disabled&&o.element.setAttribute("data-disabled",!0),e.tooltip&&o.element.setAttribute("title",e.tooltip),e.image){var a=document.createElement("img");a.className="jdropdown-image",a.src=e.image,e.title||a.classList.add("jdropdown-image-small"),o.element.appendChild(a)}else if(e.icon){var s=document.createElement("span");s.className="jdropdown-icon material-icons",s.innerText=e.icon,e.title||s.classList.add("jdropdown-icon-small"),e.color&&(s.style.color=e.color),o.element.appendChild(s)}else if(e.color){var r=document.createElement("div");r.className="jdropdown-color",r.style.backgroundColor=e.color,o.element.appendChild(r)}if(i.options.format)l=e.name;else var l=e.text;var d=document.createElement("div");if(d.className="jdropdown-description",d.innerHTML=l||"&nbsp;",e.title){var c=document.createElement("div");c.className="jdropdown-title",c.innerText=e.title,d.appendChild(c)}if(i.options.format)u=e.id;else var u=e.value;return i.value[u]&&(o.element.classList.add("jdropdown-selected"),o.selected=!0),i.items.push(o),o.element.appendChild(d),o},i.appendData=function(e){if(e.length){for(var t=[],n=[],o=0;o<e.length;o++)e[o].group?(n[e[o].group]||(n[e[o].group]=[]),n[e[o].group].push(o)):t.push(o);var a=0,s=Object.keys(n);if(s.length>0)for(o=0;o<s.length;o++){var r=document.createElement("div");r.className="jdropdown-group";var l=document.createElement("div");l.className="jdropdown-group-name",l.innerHTML=s[o];var d=document.createElement("i");d.className="jdropdown-group-arrow jdropdown-group-arrow-down",l.appendChild(d);var c=document.createElement("div");c.className="jdropdown-group-items";for(var u=0;u<n[s[o]].length;u++){var p=i.createItem(e[n[s[o]][u]],r,s[o]);(0==i.options.lazyLoading||a<200)&&(c.appendChild(p.element),a++)}r.appendChild(l),r.appendChild(c),i.groups.push(r),c.children.length>0&&f.appendChild(r)}if(t.length)for(o=0;o<t.length;o++)p=i.createItem(e[t[o]]),(0==i.options.lazyLoading||a<200)&&(f.appendChild(p.element),a++)}},i.setData=function(e){if(s(),f.innerHTML="",i.header.value="",i.items=[],e&&e.length){for(var t=0;t<e.length;t++)"object"!=typeof e[t]&&(i.options.format?e[t]={id:e[t],name:e[t]}:e[t]={value:e[t],text:e[t]});i.appendData(e),i.options.data=e}else i.options.data=[];i.close()},i.getData=function(){return i.options.data},i.getPosition=function(e){for(var t=0;t<i.items.length;t++)if(l(t)==e)return t;return!1},i.getText=function(e){var t=u();return e?t:t.join("; ")},i.getValue=function(e){var t=c();return e?t:t.join(";")};var y=function(e){t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value})),"function"==typeof i.options.onchange&&i.options.onchange(t,i,e,i.options.value)};i.setValue=function(e){var t=i.getValue();Array.isArray(e)&&(e=e.join(";")),t!==e&&(r(e),y(t))},i.resetSelected=function(){i.setValue(null)},i.selectIndex=function(e,t){if(e=parseInt(e),i.items&&i.items[e]&&(!0===t||!0!==i.items[e].data.disabled))if(i.setCursor(e,!1),i.options.multiple){var n=i.options.value;i.items[e].selected?(i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=!1,delete i.value[l(e)]):(i.items[e].element.classList.add("jdropdown-selected"),i.items[e].selected=!0,i.value[l(e)]=d(e)),i.options.value=Object.keys(i.value).join(";"),0==i.options.autocomplete&&(i.header.value=u().join("; ")),y(n)}else i.items[e].selected?i.setValue(null):i.setValue(l(e)),i.close()},i.selectItem=function(e){i.selectIndex(e.indexValue)};var w=function(e,t){for(var n=0;n<t.length;n++)if(i.options.format){if(t[n].id==e)return!0}else if(t[n].value==e)return!0;return!1};return i.find=function(t){if(i.search==t.trim())return!1;if(i.search=t,i.setCursor(),i.groups.length)for(var n=0;n<i.groups.length;n++)i.groups[n].lastChild.innerHTML="";if(f.innerHTML="",1==i.options.remoteSearch){i.results=null;var o=i.options.url+(i.options.url.indexOf("?")>0?"&":"?")+"q="+t;e.ajax({url:o,method:"GET",dataType:"json",success:function(e){i.items=[];var t=Object.keys(i.value);if(t.length)for(var n=0;n<t.length;n++)w(t[n],e)||(i.options.format?e.unshift({id:t[n],name:i.value[t[n]]}):e.unshift({value:t[n],text:i.value[t[n]]}));i.appendData(e),e.length?f.style.display="":f.style.display="none"}})}else{t=new RegExp(t,"gi");var a=[];for(n=0;n<i.items.length;n++){var s=d(n),r=i.items[n].data.title||"",l=i.items[n].data.group||"",c=i.items[n].data.synonym||"";c&&(c=c.join(" ")),(null==t||1==i.items[n].selected||s.match(t)||r.match(t)||l.match(t)||c.match(t))&&a.push(i.items[n])}if(a.length){f.style.display="",i.results=a;var u=a.length||0;for(1==i.options.lazyLoading&&u>200&&(u=200),n=0;n<u;n++)i.results[n].group?(i.results[n].group.parentNode||f.appendChild(i.results[n].group),i.results[n].group.lastChild.appendChild(i.results[n].element)):f.appendChild(i.results[n].element)}else f.style.display="none",i.results=null}1==i.options.autofocus&&i.first()},i.open=function(){if(!t.classList.contains("jdropdown-focus")){e.dropdown.current=i,e.tracking(i,!0),t.classList.add("jdropdown-focus"),e.getWindowWidth()<800&&(null!=i.options.type&&"picker"!=i.options.type||e.animation.slideBottom(h,1)),1==i.options.autocomplete&&(i.header.value=i.search,i.header.focus());var n=c();if(n[0]){var o=i.getPosition(n[0]);!1!==o&&i.setCursor(o)}if(!i.options.type||"default"==i.options.type){var a=t.getBoundingClientRect(),s=h.getBoundingClientRect();i.options.position?(h.style.position="fixed",window.innerHeight<a.bottom+s.height?(h.style.top="",h.style.bottom=window.innerHeight-a.top+1+"px"):(h.style.top=a.bottom+"px",h.style.bottom=""),h.style.left=a.left+"px"):window.innerHeight<a.bottom+s.height?(h.style.top="",h.style.bottom=a.height+1+"px"):(h.style.top="",h.style.bottom=""),h.style.minWidth=a.width+"px",i.options.maxWidth&&(h.style.maxWidth=i.options.maxWidth),i.items.length||1!=i.options.autocomplete?f.style.display="":f.style.display="none"}}"function"==typeof i.options.onopen&&i.options.onopen(t)},i.close=function(n){return t.classList.contains("jdropdown-focus")&&(i.header.value=i.getText(),i.setCursor(),n||"function"!=typeof i.options.onclose||i.options.onclose(t),i.header.blur&&i.header.blur(),t.classList.remove("jdropdown-focus"),e.tracking(i,!1),e.dropdown.current=null),i.getValue()},i.setCursor=function(e,t){if(null!=i.currentIndex&&i.items&&i.items[i.currentIndex]&&i.items[i.currentIndex].element.classList.remove("jdropdown-cursor"),null==e)i.currentIndex=null;else if(e=parseInt(e),i.items[e].element.parentNode&&(i.items[e].element.classList.add("jdropdown-cursor"),i.currentIndex=e,!1!==t&&i.items[i.currentIndex].element)){f.scrollTop;var n=i.items[i.currentIndex].element;f.scrollTop=n.offsetTop-n.scrollTop+n.clientTop-95}},i.resetCursor=i.setCursor,i.updateCursor=i.setCursor,i.reset=function(){i.setCursor(),i.setValue(null)},i.first=function(){!0===i.options.lazyLoading&&i.loadFirst();var e=f.querySelectorAll(".jdropdown-item");if(e.length){var t=e[0].indexValue;i.setCursor(t)}},i.last=function(){!0===i.options.lazyLoading&&i.loadLast();var e=f.querySelectorAll(".jdropdown-item");if(e.length){var t=e[e.length-1].indexValue;i.setCursor(t)}},i.next=function(e){var t=null;if(e){if(1==e.length){var n=i.currentIndex||-1;e=e.toLowerCase();var o=null,a=null,s=f.querySelectorAll(".jdropdown-item");if(s.length){for(var r=0;r<s.length;r++)if(s[r].indexValue>n&&(o=i.items[s[r].indexValue])&&(a=o.element.innerText[0])&&e==(a=a.toLowerCase())){t=s[r].indexValue;break}i.setCursor(t)}}}else if(null==i.currentIndex||null==i.currentIndex)i.first();else{var l=i.items[i.currentIndex].element,d=l.nextElementSibling;d?(d.classList.contains("jdropdown-group")&&(d=d.lastChild.firstChild),t=d.indexValue):l.parentNode.classList.contains("jdropdown-group-items")&&((d=l.parentNode.parentNode.nextElementSibling)&&(d.classList.contains("jdropdown-group")?d=d.lastChild.firstChild:d.classList.contains("jdropdown-item")?t=d.indexValue:d=null),d&&(t=d.indexValue)),null!==t&&i.setCursor(t)}},i.prev=function(){var e=null;if(null===i.currentIndex)i.first();else{var t=i.items[i.currentIndex].element,n=t.previousElementSibling;n?(n.classList.contains("jdropdown-group")&&(n=n.lastChild.lastChild),e=n.indexValue):t.parentNode.classList.contains("jdropdown-group-items")&&((n=t.parentNode.parentNode.previousElementSibling)&&(n.classList.contains("jdropdown-group")?n=n.lastChild.lastChild:n.classList.contains("jdropdown-item")?e=n.indexValue:n=null),n&&(e=n.indexValue))}null!==e&&i.setCursor(e)},i.loadFirst=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length||0;1==i.options.lazyLoading&&t>200&&(t=200),f.innerHTML="";for(var n=0;n<t;n++)e[n].group?(e[n].group.parentNode||f.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):f.appendChild(e[n].element);f.scrollTop=0},i.loadLast=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length;if(t>200){t-=200,f.innerHTML="";for(var n=t;n<e.length;n++)e[n].group?(e[n].group.parentNode||f.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):f.appendChild(e[n].element);f.scrollTop=f.scrollHeight}},i.loadUp=function(){var e=!1;if(i.results)var t=i.results;else t=i.items;var n=f.querySelectorAll(".jdropdown-item")[0].indexValue;n=i.items[n];var o=t.indexOf(n)-1;if(o>0){for(var a=0;o>0&&t[o]&&a<200;)t[o].group?(t[o].group.parentNode||f.insertBefore(t[o].group,f.firstChild),t[o].group.lastChild.insertBefore(t[o].element,t[o].group.lastChild.firstChild)):f.insertBefore(t[o].element,f.firstChild),o--,a++;e=!0}return e},i.loadDown=function(){var e=!1;if(i.results)var t=i.results;else t=i.items;var n=f.querySelectorAll(".jdropdown-item"),o=n[n.length-1].indexValue;o=i.items[o];var a=t.indexOf(o)+1;if(a<t.length){for(var s=0;a<t.length&&t[a]&&s<200;)t[a].group?(t[a].group.parentNode||f.appendChild(t[a].group),t[a].group.lastChild.appendChild(t[a].element)):f.appendChild(t[a].element),a++,s++;e=!0}return e},function(){if(n||(n={}),"SELECT"==t.tagName){var o=e.dropdown.extractFromDom(t,n);t=o.el,n=o.options}!n.placeholder&&t.getAttribute("placeholder")&&(n.placeholder=t.getAttribute("placeholder")),i.value={},i.items=[],i.groups=[],i.search="",i.results=null,t.classList.add("jdropdown"),(p=document.createElement("div")).className="jdropdown-container-header",i.header=document.createElement("input"),i.header.className="jdropdown-header jss_object",i.header.type="text",i.header.setAttribute("autocomplete","off"),i.header.onfocus=function(){"function"==typeof i.options.onfocus&&i.options.onfocus(t)},i.header.onblur=function(){"function"==typeof i.options.onblur&&i.options.onblur(t)},i.header.onkeyup=function(e){1!=i.options.autocomplete||x?i.options.autocomplete||i.next(e.key):(i.search!=i.header.value.trim()&&(x=setTimeout((function(){i.find(i.header.value.trim()),x=null}),400)),t.classList.contains("jdropdown-focus")||i.open())},e.dropdown.hasEvents||(e.dropdown.hasEvents=!0,document.addEventListener("keydown",e.dropdown.keydown)),(h=document.createElement("div")).className="jdropdown-container",(f=document.createElement("div")).className="jdropdown-content",(m=document.createElement("div")).className="jdropdown-close",m.innerHTML="Done",(v=document.createElement("div")).className="jdropdown-reset",v.innerHTML="x",v.onclick=function(){i.reset(),i.close()},(g=document.createElement("div")).className="jdropdown-backdrop",p.appendChild(i.header),h.appendChild(f),t.appendChild(p),t.appendChild(h),t.appendChild(g),i.setOptions(n),"ontouchsend"in document.documentElement==1?t.addEventListener("touchsend",e.dropdown.mouseup):t.addEventListener("mouseup",e.dropdown.mouseup),1==i.options.lazyLoading&&e.lazyLoading(f,{loadUp:i.loadUp,loadDown:i.loadDown}),f.onwheel=function(e){e.stopPropagation()},t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue(!!i.options.multiple);i.setValue(e)},t.dropdown=i}(),i},e.dropdown.keydown=function(t){var n=null;if(n=e.dropdown.current)if(13==t.which||9==t.which)n.header.value&&null==n.currentIndex&&n.options.newOptions?n.add():(null==n.currentIndex&&1==n.options.autocomplete&&""!=n.header.value&&n.find(n.header.value),n.selectIndex(n.currentIndex));else if(38==t.which)null==n.currentIndex?n.first():n.currentIndex>0&&n.prev(),t.preventDefault();else if(40==t.which)null==n.currentIndex?n.first():n.currentIndex+1<n.items.length&&n.next(),t.preventDefault();else if(36==t.which)n.first(),t.target.classList.contains("jdropdown-header")||t.preventDefault();else if(35==t.which)n.last(),t.target.classList.contains("jdropdown-header")||t.preventDefault();else if(27==t.which)n.close();else if(33==t.which){if(null==n.currentIndex)n.first();else if(n.currentIndex>0)for(var i=0;i<7;i++)n.prev();t.preventDefault()}else if(34==t.which){if(null==n.currentIndex)n.first();else if(n.currentIndex+1<n.items.length)for(i=0;i<7;i++)n.next();t.preventDefault()}},e.dropdown.mouseup=function(t){var n=e.findElement(t.target,"jdropdown");if(n){var i=n.dropdown;if(t.target.classList.contains("jdropdown-header"))if(n.classList.contains("jdropdown-focus")&&n.classList.contains("jdropdown-default")){var o=n.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var a=t.changedTouches[0].clientX;t.changedTouches[0].clientY}else a=t.clientX,t.clientY;o.width-(a-o.left)<30?t.target.classList.contains("jdropdown-add")?i.add():i.close():0==i.options.autocomplete&&i.close()}else i.open();else if(t.target.classList.contains("jdropdown-group-name")){var s=t.target.nextSibling.children;if("none"!=t.target.nextSibling.style.display)for(var r=0;r<s.length;r++)"none"!=s[r].style.display&&i.selectItem(s[r])}else t.target.classList.contains("jdropdown-group-arrow")?t.target.classList.contains("jdropdown-group-arrow-down")?(t.target.classList.remove("jdropdown-group-arrow-down"),t.target.classList.add("jdropdown-group-arrow-up"),t.target.parentNode.nextSibling.style.display="none"):(t.target.classList.remove("jdropdown-group-arrow-up"),t.target.classList.add("jdropdown-group-arrow-down"),t.target.parentNode.nextSibling.style.display=""):t.target.classList.contains("jdropdown-item")?i.selectItem(t.target):t.target.classList.contains("jdropdown-image")||t.target.classList.contains("jdropdown-description")?i.selectItem(t.target.parentNode):t.target.classList.contains("jdropdown-title")?i.selectItem(t.target.parentNode.parentNode):(t.target.classList.contains("jdropdown-close")||t.target.classList.contains("jdropdown-backdrop"))&&i.close()}},e.dropdown.extractFromDom=function(e,t){var n=e;if(t||(t={}),!e.getAttribute("multiple")||t&&null!=t.multiple||(t.multiple=!0),!e.getAttribute("placeholder")||t&&null!=t.placeholder||(t.placeholder=e.getAttribute("placeholder")),!e.getAttribute("data-autocomplete")||t&&null!=t.autocomplete||(t.autocomplete=!0),t&&null!=t.width||(t.width=e.offsetWidth),!e.value||t&&null!=t.value||(t.value=e.value),!t||null==t.data){t.data=[];for(var i=0;i<e.children.length;i++)if("OPTGROUP"==e.children[i].tagName)for(var o=0;o<e.children[i].children.length;o++)t.data.push({value:e.children[i].children[o].value,text:e.children[i].children[o].innerHTML,group:e.children[i].getAttribute("label")});else t.data.push({value:e.children[i].value,text:e.children[i].innerHTML})}t&&null!=t.onchange||(t.onchange=function(e,i,o,a){1==t.multiple?obj.items[i].classList.contains("jdropdown-selected")?n.options[i].setAttribute("selected","selected"):n.options[i].removeAttribute("selected"):n.value=a});var a=document.createElement("div");return e.parentNode.insertBefore(a,e),e.style.display="none",{el:e=a,options:t}},e.editor=function(t,n){var i={type:"editor",options:{}},o={url:null,value:"",snippet:null,toolbar:!0,toolbarOnTop:!1,remoteParser:null,placeholder:null,filterPaste:!0,dropZone:!0,dropAsSnippet:!1,acceptImages:!0,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null,extensions:null,type:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];var s=null,r=null,l=[];i.el=t,"function"==typeof i.options.onclick&&(t.onclick=function(e){i.options.onclick(t,i,e)}),t.classList.add("jeditor-container");var d=document.createElement("div");d.className="jsnippet",d.setAttribute("contenteditable",!1);var c=document.createElement("div");if(c.className="jeditor-toolbar",i.editor=document.createElement("div"),i.editor.setAttribute("contenteditable",!0),i.editor.setAttribute("spellcheck",!1),i.editor.classList.add("jeditor"),i.options.placeholder&&i.editor.setAttribute("data-placeholder",i.options.placeholder),(i.options.maxHeight||i.options.height)&&(i.editor.style.overflowY="auto",i.options.maxHeight&&(i.editor.style.maxHeight=i.options.maxHeight),i.options.height&&(i.editor.style.height=i.options.height)),i.options.url)e.ajax({url:i.options.url,dataType:"html",success:function(t){i.editor.innerHTML=t,e.editor.setCursor(i.editor,"initial"==i.options.focus)}});else if(i.options.value)i.editor.innerHTML=i.options.value;else for(var u=0;u<t.children.length;u++)i.editor.appendChild(t.children[u]);t.innerHTML="";var p=function(e){"function"==typeof i.options.onchange&&i.options.onchange(t,i,e),i.options.value=i.getData(),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value}))},h=function(){var e=null;if(e=d.children[0]){e.classList.contains("jslider-grid")||e.classList.add("jslider-grid");var t=e.children.length;e.setAttribute("data-number",t>4?4:t),t>4?e.setAttribute("data-total",t-4):e.removeAttribute("data-total")}};i.appendSnippet=function(e){d.innerHTML="";for(var t=["image","title","description","host","url"],n=0;n<t.length;n++){var o=document.createElement("div");if(o.className="jsnippet-"+t[n],o.setAttribute("data-k",t[n]),d.appendChild(o),e[t[n]])if("image"==t[n]){Array.isArray(e.image)||(e.image=[e.image]);for(var a=0;a<e.image.length;a++){var s=document.createElement("img");s.src=e.image[a],o.appendChild(s)}}else o.innerHTML=e[t[n]]}i.editor.appendChild(document.createElement("br")),i.editor.appendChild(d)},i.setData=function(t){i.editor.innerHTML="object"==typeof t?t.content:t,i.options.focus&&e.editor.setCursor(i.editor,!0),l=[]},i.getFiles=function(){for(var e=i.editor.querySelectorAll(".jfile"),t=[],n=0;n<e.length;n++)l[e[n].src]&&t.push(l[e[n].src]);return t},i.getText=function(){return i.editor.innerText},i.getData=function(e){if(e){if(u={content:""},d.innerHTML){u.snippet={};for(var t=0;t<d.children.length;t++){var n=d.children[t].getAttribute("data-k");if(n)if("image"==n){u.snippet.image||(u.snippet.image=[]);for(var o=0;o<d.children[t].children.length;o++)u.snippet.image.push(d.children[t].children[o].getAttribute("src"))}else u.snippet[n]=d.children[t].innerHTML}}var a=Object.keys(l);if(a.length)for(u.files=[],t=0;t<a.length;t++)u.files.push(l[a[t]]);var s=document.createElement("div");s.innerHTML=i.editor.innerHTML;var r=s.querySelector(".jsnippet");r&&r.remove();var c=s.innerHTML;c=(c=(c=c.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),u.content=c.trim(),D("getData",u)}else var u=i.editor.innerHTML;return u},i.reset=function(){i.editor.innerHTML="",d.innerHTML="",l=[]},i.addPdf=function(e){if("data"!=e.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60,t.height=60;var n=new Image;t.getContext("2d").drawImage(n,0,0,t.width,t.height),t.toBlob((function(t){var n=document.createElement("img");n.src=window.URL.createObjectURL(t),n.title=e.name,n.className="jfile pdf",l[n.src]={file:n.src,extension:"pdf",content:e.result},document.execCommand("insertHtml",!1,n.outerHTML)}))}},i.addImage=function(e,t){if(e||(e=""),"data"==e.substr(0,4)||i.options.remoteParser){if("data"==e.substr(0,4))n=(n=(n=e.split(";"))[0].split("/"))[1];else{var n=e.substr(e.lastIndexOf(".")+1);e=i.options.remoteParser+e}var o=new Image;o.onload=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0,e.width,e.height),e.toBlob((function(a){var s,r=document.createElement("img");r.src=window.URL.createObjectURL(a),r.classList.add("jfile"),r.setAttribute("tabindex","900"),r.setAttribute("width",o.width),r.setAttribute("height",o.height),l[r.src]={file:r.src,extension:n,content:e.toDataURL()},i.options.dropAsSnippet||t?(s=r,d.innerHTML||i.appendSnippet({}),d.children[0].appendChild(s),h(),l[r.src].snippet=!0):document.execCommand("insertHtml",!1,r.outerHTML),p()}))},o.src=e}else console.error("remoteParser not defined in your initialization")},i.addFile=function(e){for(var t=[],n=0;n<e.length;n++)if(e[n].size>i.options.maxFileSize)alert("The file is too big");else{var o=e[n].type.split("/");(o="image"==o[0]?1:"pdf"==o[1]?2:0)?(t[n]=new FileReader,t[n].index=n,t[n].type=o,t[n].name=e[n].name,t[n].date=e[n].lastModified,t[n].size=e[n].size,t[n].addEventListener("load",(function(e){2==e.target.type?1==i.options.acceptFiles&&i.addPdf(e.target):i.addImage(e.target.result)}),!1),t[n].readAsDataURL(e[n])):alert("The extension is not allowed")}},i.destroy=function(){i.editor.removeEventListener("mouseup",M),i.editor.removeEventListener("mousedown",O),i.editor.removeEventListener("mousemove",A),i.editor.removeEventListener("keyup",T),i.editor.removeEventListener("keydown",k),i.editor.removeEventListener("dragstart",w),i.editor.removeEventListener("dragenter",b),i.editor.removeEventListener("dragover",L),i.editor.removeEventListener("drop",j),i.editor.removeEventListener("paste",y),i.editor.removeEventListener("blur",C),i.editor.removeEventListener("focus",E),t.editor=null,t.classList.remove("jeditor-container"),c.remove(),d.remove(),i.editor.remove()},i.upload=function(){e.click(i.file)};var f=[HTMLUnknownElement,HTMLAudioElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTextAreaElement,HTMLInputElement,HTMLScriptElement],m=["width","height","align","border","src","tabindex"],v=["color","font-weight","font-size","background","background-color","margin"],g=function(e){if(e.attributes&&e.attributes.length){var t=null,n=e.getAttribute("style");if(n){t=[];for(var o=n.split(";"),a=0;a<o.length;a++){var s=o[a].trim().split(":");if(v.indexOf(s[0].trim())>=0){var r=s.shift();s=s.join(":"),t.push(r+":"+s)}}}"IMG"==e.tagName.toUpperCase()&&(i.options.acceptImages&&e.src?(e.setAttribute("tabindex","900"),i.addImage(e.src)):e.parentNode.removeChild(e));var l=[],d=e.attributes.length-1;if(d>0){for(var c=d;c>=0;c--)l.push(e.attributes[c].name);l.forEach((function(t){-1==m.indexOf(t)&&e.removeAttribute(t)}))}e.style="",t&&t.length&&e.setAttribute("style",t.join(";"))}if(e.children.length)for(c=0;c<e.children.length;c++)g(e.children[c]);f.indexOf(e.constructor)>=0&&e.remove()},x=function(e){var t=window.getSelection(),n=document.createRange();n.selectNode(e),t.addRange(n)},y=function(e){if(1==i.options.filterPaste){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/html"),n=(e.originalEvent||e).clipboardData.getData("text/plain"),o=(e.originalEvent||e).clipboardData.files;else window.clipboardData&&(t=window.clipboardData.getData("Html"),n=window.clipboardData.getData("Text"),o=window.clipboardData.files);if(o.length)i.addFile(o);else if(t){var a=function(e){e&&(e=e.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""));var t=(new DOMParser).parseFromString(e,"text/html");g(t);var n=document.createElement("span");return n.innerHTML=t.firstChild.innerHTML,n}(t);document.execCommand("insertHtml",!1,a.innerHTML)}else t=n.split("\r\n"),e.target.innerText?(t=t.map((function(e){return"<div>"+e+"</div>"})),document.execCommand("insertHtml",!1,t.join(""))):t.map((function(e){var t=document.createElement("div");t.innerText=e,i.editor.appendChild(t)}));e.preventDefault()}},w=function(e){r&&r.e&&e.preventDefault()},b=function(e){r||0==i.options.dropZone||(t.classList.add("jeditor-dragging"),e.preventDefault())},L=function(e){r||0==i.options.dropZone||(s&&clearTimeout(s),s=setTimeout((function(){t.classList.remove("jeditor-dragging")}),100),e.preventDefault())},j=function(e){if(r||0==i.options.dropZone);else{var n=null;document.caretRangeFromPoint?n=document.caretRangeFromPoint(e.clientX,e.clientY):e.rangeParent&&(n=document.createRange()).setStart(e.rangeParent,e.rangeOffset);var o=window.getSelection();o.removeAllRanges(),o.addRange(n),o.anchorNode.parentNode.focus();var a=(e.originalEvent||e).dataTransfer.getData("text/html"),s=(e.originalEvent||e).dataTransfer.getData("text/plain"),l=(e.originalEvent||e).dataTransfer.files;l.length?i.addFile(l):s&&function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll("img");if(n.length)for(var o=0;o<n.length;o++)i.addImage(n[o].src)}(a),t.classList.remove("jeditor-dragging"),e.preventDefault()}},C=function(e){D("onevent",e),p(e),"function"==typeof i.options.onblur&&i.options.onblur(t,i,e)},E=function(e){"function"==typeof i.options.onfocus&&i.options.onfocus(t,i,e)},T=function(e){i.editor.innerHTML||(i.editor.innerHTML="<div><br></div>"),"function"==typeof i.options.onkeyup&&i.options.onkeyup(t,i,e)},k=function(e){if(D("onevent",e),"Delete"==e.key&&"IMG"==e.target.tagName){var n=e.target.parentNode;x(e.target),n.classList.contains("jsnippet-image")&&h()}"function"==typeof i.options.onkeydown&&i.options.onkeydown(t,i,e)},M=function(e){if(r&&r.e&&(r.e.classList.remove("resizing"),1==r.e.changed)){var t=r.e.cloneNode();t.width=parseInt(r.e.style.width)||r.e.getAttribute("width"),t.height=parseInt(r.e.style.height)||r.e.getAttribute("height"),r.e.style.width="",r.e.style.height="",x(r.e),document.execCommand("insertHtml",!1,t.outerHTML)}r=!1},O=function(e){var t=function(t){var n=t.getBoundingClientRect();n.width-(e.clientX-n.left)<40&&e.clientY-n.top<40&&(t.innerHTML="",t.remove())};if("IMG"==e.target.tagName)if(e.target.style.cursor){var n=e.target.getBoundingClientRect();r={e:e.target,x:e.clientX,y:e.clientY,w:n.width,h:n.height,d:e.target.style.cursor},e.target.getAttribute("width")||e.target.setAttribute("width",n.width),e.target.getAttribute("height")||e.target.setAttribute("height",n.height);var i=window.getSelection();if(i.rangeCount)for(var o=0;o<i.rangeCount;o++)i.removeRange(i.getRangeAt(o));e.target.classList.add("resizing")}else r=!0;else e.target.classList.contains("jsnippet")?t(e.target):e.target.parentNode.classList.contains("jsnippet")&&t(e.target.parentNode),r=!0},A=function(e){if("IMG"==e.target.tagName&&!e.target.parentNode.classList.contains("jsnippet-image")&&1==i.options.allowImageResize&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&r&&r.d){if("e-resize"==r.d||"ne-resize"==r.d||"se-resize"==r.d)if(r.e.style.width=r.w+(e.clientX-r.x),e.shiftKey){var n=(e.clientX-r.x)*(r.h/r.w);r.e.style.height=r.h+n}else n=null;n||"s-resize"!=r.d&&"se-resize"!=r.d&&"sw-resize"!=r.d||e.shiftKey||(r.e.style.height=r.h+(e.clientY-r.y)),r.e.changed=!0}},D=function(e,t){if(i.options.extensions){var n=Object.keys(i.options.extensions);if(n.length)for(var o=0;o<n.length;o++)i.options.extensions[n[o]]&&"function"==typeof i.options.extensions[n[o]][e]&&i.options.extensions[n[o]][e].call(i,t)}};if(document.addEventListener("mouseup",M),document.addEventListener("mousemove",A),i.editor.addEventListener("mousedown",O),i.editor.addEventListener("keyup",T),i.editor.addEventListener("keydown",k),i.editor.addEventListener("dragstart",w),i.editor.addEventListener("dragenter",b),i.editor.addEventListener("dragover",L),i.editor.addEventListener("drop",j),i.editor.addEventListener("paste",y),i.editor.addEventListener("focus",E),i.editor.addEventListener("blur",C),t.appendChild(i.editor),i.options.snippet&&i.appendSnippet(i.options.snippet),i.options.toolbar){if(Array.isArray(i.options.toolbar))var N={container:!0,responsive:!0,items:i.options.toolbar};else N=!0===i.options.toolbar?{container:!0,responsive:!0,items:[]}:i.options.toolbar;N.items&&N.items.length||(N.items=e.editor.getDefaultToolbar(i)),i.options.toolbarOnTop?(t.classList.add("toolbar-on-top"),t.insertBefore(c,t.firstChild)):(i.editor.style.padding="15px",t.appendChild(c)),e.toolbar(c,N),c.addEventListener("click",(function(){i.editor.focus()}))}return i.file=document.createElement("input"),i.file.style.display="none",i.file.type="file",i.file.setAttribute("accept","image/*"),i.file.onchange=function(){i.addFile(this.files)},t.appendChild(i.file),i.editor.innerHTML&&i.options.focus&&e.editor.setCursor(i.editor,"initial"==i.options.focus),t.change=i.setData,t.val=function(e){if(void 0===e){var n="true"!==t.getAttribute("data-html");return i.getData(n)}i.setData(e)},function(){if(i.options.extensions){var e=Object.keys(i.options.extensions);if(e.length)for(var n=0;n<e.length;n++)i.options.extensions[e[n]]&&"function"==typeof i.options.extensions[e[n]]&&(i.options.extensions[e[n]]=i.options.extensions[e[n]](t,i))}}(),t.editor=i,"function"==typeof i.options.onload&&i.options.onload(t,i,i.editor),i},e.editor.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n=window.getSelection(),i=n.getRangeAt(0);if(1==t)var o=i.startContainer,a=0;else a=(o=i.endContainer).length;i.setStart(o,a),i.setEnd(o,a),n.removeAllRanges(),n.addRange(i)},e.editor.getDefaultToolbar=function(t){var n=function(t,n,i){i.color||(e.color(i,{onchange:function(e,t){"color"===i.k?document.execCommand("foreColor",!1,t):document.execCommand("backColor",!1,t)}}),i.color.open())},i=[];return i.push({content:"undo",onclick:function(){document.execCommand("undo")}}),i.push({content:"redo",onclick:function(){document.execCommand("redo")}}),i.push({type:"divisor"}),t.options.toolbarOnTop&&(i.push({type:"select",width:"140px",options:["Default","Verdana","Arial","Courier New"],render:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},onchange:function(e,t,n,i,o){document.execCommand("fontName",!1,i)}}),i.push({type:"select",content:"format_size",options:["x-small","small","medium","large","x-large"],render:function(e){return'<span style="font-size:'+e+'">'+e+"</span>"},onchange:function(e,t,n,i,o){document.execCommand("fontSize",!1,parseInt(o)+1)}}),i.push({type:"select",options:["format_align_left","format_align_center","format_align_right","format_align_justify"],render:function(e){return'<i class="material-icons">'+e+"</i>"},onchange:function(e,t,n,i,o){document.execCommand(["JustifyLeft","justifyCenter","justifyRight","justifyFull"][o])}}),i.push({type:"divisor"}),i.push({content:"format_color_text",k:"color",onclick:n}),i.push({content:"format_color_fill",k:"background-color",onclick:n})),i.push({content:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({type:"divisor"}),i.push({content:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}),t.options.toolbarOnTop&&(i.push({type:"divisor"}),i.push({content:"photo",onclick:function(){t.upload()}}),i.push({type:"select",content:"table_view",columns:10,right:!0,options:["0x0","1x0","2x0","3x0","4x0","5x0","6x0","7x0","8x0","9x0","0x1","1x1","2x1","3x1","4x1","5x1","6x1","7x1","8x1","9x1","0x2","1x2","2x2","3x2","4x2","5x2","6x2","7x2","8x2","9x2","0x3","1x3","2x3","3x3","4x3","5x3","6x3","7x3","8x3","9x3","0x4","1x4","2x4","3x4","4x4","5x4","6x4","7x4","8x4","9x4","0x5","1x5","2x5","3x5","4x5","5x5","6x5","7x5","8x5","9x5","0x6","1x6","2x6","3x6","4x6","5x6","6x6","7x6","8x6","9x6","0x7","1x7","2x7","3x7","4x7","5x7","6x7","7x7","8x7","9x7","0x8","1x8","2x8","3x8","4x8","5x8","6x8","7x8","8x8","9x8","0x9","1x9","2x9","3x9","4x9","5x9","6x9","7x9","8x9","9x9"],render:function(e,t){t&&(t.onmouseover=this.onmouseover,e=e.split("x"),t.setAttribute("data-x",e[0]),t.setAttribute("data-y",e[1]));var n=document.createElement("div");return t.style.margin="1px",t.style.border="1px solid #ddd",n},onmouseover:function(e){for(var t=parseInt(e.target.getAttribute("data-x")),n=parseInt(e.target.getAttribute("data-y")),i=0;i<e.target.parentNode.children.length;i++){var o=e.target.parentNode.children[i],a=parseInt(o.getAttribute("data-x")),s=parseInt(o.getAttribute("data-y"));a<=t&&s<=n?(o.style.backgroundColor="#cae1fc",o.style.borderColor="#2977ff"):(o.style.backgroundColor="",o.style.borderColor="#ddd")}},onchange:function(e,t,n){n=n.split("x");for(var i=document.createElement("table"),o=document.createElement("tbody"),a=0;a<=n[1];a++){for(var s=document.createElement("tr"),r=0;r<=n[0];r++){var l=document.createElement("td");l.innerHTML="",s.appendChild(l)}o.appendChild(s)}i.appendChild(o),i.setAttribute("width","100%"),i.setAttribute("cellpadding","6"),i.setAttribute("cellspacing","0"),document.execCommand("insertHTML",!1,i.outerHTML)}})),i},e.focus=function(e){if(e.innerText.length){var t=document.createRange(),n=window.getSelection(),i=e.childNodes[e.childNodes.length-1];t.setStart(i,i.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t),e.scrollLeft=e.scrollWidth}},e.isNumeric=function(e){return"string"==typeof e&&(e=e.trim()),!isNaN(e)&&null!==e&&""!==e},e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.getNode=function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},e.hash=function(e){var t,n,i=0;if(0===e.length)return i;for(t=0;t<e.length;t++)(n=e.charCodeAt(t))>32&&(i=(i<<5)-i+n,i|=0);return i},e.randomColor=function(t){var n=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var i,o,a=[];for(o=0;o<3;o++)i=parseInt(n.substr(2*o,2),16),i=Math.round(Math.min(Math.max(0,i+-.25*i),255)).toString(16),a.push(("00"+i).substr(i.length));return 1==t?"#"+e.two(a[0].toString(16))+e.two(a[1].toString(16))+e.two(a[2].toString(16)):a},e.getWindowWidth=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||i.clientWidth},e.getWindowHeight=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||i.clientHeight},e.getPosition=function(e){if(e.changedTouches&&e.changedTouches[0])var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[t,n]},e.click=function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}},e.findElement=function(e,t){var n=!1;return function e(i){i&&!n&&("function"==typeof t?n=t(i):"string"==typeof t&&i.classList&&i.classList.contains(t)&&(n=i)),i.parentNode&&!n&&e(i.parentNode)}(e),n},e.two=function(e){return 1==(e=""+e).length&&(e="0"+e),e},e.sha512=function(e){function t(e,t){this.highOrder=e,this.lowOrder=t}var n,i,o,a,s,r,l,d,c,u,p=[new t(1779033703,4089235720),new t(3144134277,2227873595),new t(1013904242,4271175723),new t(2773480762,1595750129),new t(1359893119,2917565137),new t(2600822924,725511199),new t(528734635,4215389547),new t(1541459225,327033209)],h=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)],f=new Array(64);function m(e,n){var i,o,a;return i=(65535&e.lowOrder)+(65535&n.lowOrder),a=(65535&(o=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i>>>16)))<<16|65535&i,i=(65535&e.highOrder)+(65535&n.highOrder)+(o>>>16),new t((65535&(o=(e.highOrder>>>16)+(n.highOrder>>>16)+(i>>>16)))<<16|65535&i,a)}function v(e,n,i,o){var a,s,r;return a=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&o.lowOrder),r=(65535&(s=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(o.lowOrder>>>16)+(a>>>16)))<<16|65535&a,a=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&o.highOrder)+(s>>>16),new t((65535&(s=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(o.highOrder>>>16)+(a>>>16)))<<16|65535&a,r)}function g(e,n,i,o,a){var s,r,l;return s=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&o.lowOrder)+(65535&a.lowOrder),l=(65535&(r=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(o.lowOrder>>>16)+(a.lowOrder>>>16)+(s>>>16)))<<16|65535&s,s=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&o.highOrder)+(65535&a.highOrder)+(r>>>16),new t((65535&(r=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(o.highOrder>>>16)+(a.highOrder>>>16)+(s>>>16)))<<16|65535&s,l)}function x(e,n,i){return new t(e.highOrder&n.highOrder^e.highOrder&i.highOrder^n.highOrder&i.highOrder,e.lowOrder&n.lowOrder^e.lowOrder&i.lowOrder^n.lowOrder&i.lowOrder)}function y(e,n,i){return new t(e.highOrder&n.highOrder^~e.highOrder&i.highOrder,e.lowOrder&n.lowOrder^~e.lowOrder&i.lowOrder)}function w(e,n){return n<=32?new t(e.highOrder>>>n|e.lowOrder<<32-n,e.lowOrder>>>n|e.highOrder<<32-n):new t(e.lowOrder>>>n|e.highOrder<<32-n,e.highOrder>>>n|e.lowOrder<<32-n)}function b(e){var n=w(e,28),i=w(e,34),o=w(e,39);return new t(n.highOrder^i.highOrder^o.highOrder,n.lowOrder^i.lowOrder^o.lowOrder)}function L(e){var n=w(e,14),i=w(e,18),o=w(e,41);return new t(n.highOrder^i.highOrder^o.highOrder,n.lowOrder^i.lowOrder^o.lowOrder)}function j(e){var n=w(e,1),i=w(e,8),o=C(e,7);return new t(n.highOrder^i.highOrder^o.highOrder,n.lowOrder^i.lowOrder^o.lowOrder)}function C(e,n){return n<=32?new t(e.highOrder>>>n,e.lowOrder>>>n|e.highOrder<<32-n):new t(0,e.highOrder<<32-n)}var E,T,k,M,O=8*(e=function(e){return unescape(encodeURIComponent(e))}(e)).length;(e=function(e){for(var t=[],n=8*e.length,i=0;i<n;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}(e))[O>>5]|=128<<24-O%32,e[31+(O+128>>10<<5)]=O;for(var A=0;A<e.length;A+=32){n=p[0],i=p[1],o=p[2],a=p[3],s=p[4],r=p[5],l=p[6],d=p[7];for(var D=0;D<80;D++)f[D]=D<16?new t(e[2*D+A],e[2*D+A+1]):v((E=f[D-2],T=void 0,k=void 0,M=void 0,T=w(E,19),k=w(E,61),M=C(E,6),new t(T.highOrder^k.highOrder^M.highOrder,T.lowOrder^k.lowOrder^M.lowOrder)),f[D-7],j(f[D-15]),f[D-16]),c=g(d,L(s),y(s,r,l),h[D],f[D]),u=m(b(n),x(n,i,o)),d=l,l=r,r=s,s=m(a,c),a=o,o=i,i=n,n=m(c,u);p[0]=m(n,p[0]),p[1]=m(i,p[1]),p[2]=m(o,p[2]),p[3]=m(a,p[3]),p[4]=m(s,p[4]),p[5]=m(r,p[5]),p[6]=m(l,p[6]),p[7]=m(d,p[7])}var N=[];for(A=0;A<p.length;A++)N.push(p[A].highOrder),N.push(p[A].lowOrder);return function(e){for(var t,n="0123456789abcdef",i="",o=4*e.length,a=0;a<o;a+=1)t=e[a>>2]>>8*(3-a%4),i+=n.charAt(t>>4&15)+n.charAt(15&t);return i}(N)},e.image=e.upload=function(t,n){var i={options:{}},o={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed"}};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];1==i.options.multiple&&t.setAttribute("data-multiple",!0),t.content=[],t.classList.add("jupload"),1==i.options.input&&t.classList.add("input"),i.add=function(n){if(0==i.options.multiple&&(t.content=[],t.innerText=""),"image"==i.options.type){var o=document.createElement("img");o.setAttribute("src",n.file),o.setAttribute("tabindex",-1),t.getAttribute("name")||(o.className="jfile",o.content=n),t.appendChild(o)}else{if(n.name)var a=n.name;else a=n.file;var s=document.createElement("div");s.innerText=a||i.options.type,s.classList.add("jupload-item"),s.setAttribute("tabindex",-1),t.appendChild(s)}n.content&&(n.file=e.guid()),t.content.push(n),"function"==typeof i.options.onchange&&i.options.onchange(t,n)},i.addFromFile=function(e){if(e.type.split("/")[0]==i.options.type){var t=new FileReader;t.addEventListener("load",(function(t){var n={file:t.srcElement.result,extension:e.name.substr(e.name.lastIndexOf(".")+1),name:e.name,size:e.size,lastmodified:e.lastModified,content:t.srcElement.result};i.add(n)})),t.readAsDataURL(e)}else alert(i.options.text.extensionNotAllowed)},i.addFromUrl=function(t){if("data"==t.substr(0,4)||i.options.remoteParser)if("data"==t.substr(0,4))if((o=(o=t.split(";"))[0].split("/"))[0].replace("data:","")==i.options.type){var n={file:t,name:"",extension:o[1],content:t};i.add(n)}else alert(i.options.text.extensionNotAllowed);else{var o=t.substr(t.lastIndexOf(".")+1);t=i.options.remoteParser+t,e.ajax({url:t,type:"GET",dataType:"blob",success:function(e){}})}else console.error("remoteParser not defined in your initialization")};var s=i.options.type+"/"+i.options.extension,r=document.createElement("input");r.type="file",r.setAttribute("accept",s),r.onchange=function(){for(var e=0;e<this.files.length;e++)i.addFromFile(this.files[e])},1==i.options.multiple&&r.setAttribute("multiple",!0);var l=null;return t.addEventListener("click",(function(n){l=null,t.children.length&&n.target!==t?n.target.parentNode==t&&(l=n.target):e.click(r)})),t.addEventListener("dblclick",(function(t){e.click(r)})),t.addEventListener("dragenter",(function(e){t.style.border="1px dashed #000"})),t.addEventListener("dragleave",(function(e){t.style.border="1px solid #eee"})),t.addEventListener("dragstop",(function(e){t.style.border="1px solid #eee"})),t.addEventListener("dragover",(function(e){e.preventDefault()})),t.addEventListener("keydown",(function(e){if(l&&46==e.which){var n=Array.prototype.indexOf.call(t.children,l);n>=0&&(t.content.splice(n,1),l.remove(),l=null)}})),t.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation();var n=(e.originalEvent||e).dataTransfer.getData("text/html");if((e.originalEvent||e).dataTransfer.files.length)for(var o=0;o<e.dataTransfer.files.length;o++)i.addFromFile(e.dataTransfer.files[o]);else if(n){0==i.options.multiple&&(t.innerText="");var a=document.createElement("div");a.innerHTML=n;var s=a.querySelectorAll("img");if(s.length)for(o=0;o<s.length;o++)i.addFromUrl(s[o].src)}return t.style.border="1px solid #eee",!1})),t.val=function(e){if(void 0===e)return t.content&&t.content.length?t.content:null;if(t.innerText="",t.content=[],e)if(Array.isArray(e))for(var n=0;n<e.length;n++)"string"==typeof e[n]?i.add({file:e[n]}):i.add(e[n]);else"string"==typeof e&&i.add({file:e})},t.upload=t.image=i,i},e.image.create=function(e){var t=document.createElement("img");return t.setAttribute("src",e.file),t.className="jfile",t.setAttribute("tabindex",-1),t.content=e,t},e.lazyLoading=function(e,t){t.loadUp&&"function"==typeof t.loadUp||(t.loadUp=function(){return!1}),t.loadDown&&"function"==typeof t.loadDown||(t.loadDown=function(){return!1}),t.timer||(t.timer=100);var n=null,i=function(i){if(null==n){var o=!1,a=e.scrollTop;e.scrollTop+2*e.clientHeight>=e.scrollHeight?t.loadDown()&&(a==e.scrollTop&&(e.scrollTop=e.scrollTop-e.clientHeight),o=!0):e.scrollTop<=e.clientHeight&&t.loadUp()&&(a==e.scrollTop&&(e.scrollTop=e.scrollTop+e.clientHeight),o=!0),n=setTimeout((function(){n=null}),t.timer),o&&"function"==typeof t.onupdate&&t.onupdate()}};return e.onscroll=function(e){i()},e.onwheel=function(e){i()},{}},e.loading=function(){var e={},t=null;return e.show=function(n){t||((t=document.createElement("div")).className="jloading"),document.body.appendChild(t),n>0&&setTimeout((function(){e.hide()}),1e3*n)},e.hide=function(){t&&t.parentNode&&document.body.removeChild(t)},e}(),e.mask=function(){var t,n={text:["@"],currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","MONTH","MON","HH24","HH12","HH","\\[H\\]","H","AM/PM","PM","AM","MI","SS","MS","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},i=function(){if(-1!==this.mask.toLowerCase().indexOf("[h]")){var t=0;this.date[4]&&(t=parseFloat(this.date[4]/60));var n=parseInt(this.date[3])+t;n/=24}else this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]?(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),n=e.two(this.date[0])+"-"+e.two(this.date[1])+"-"+e.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(n+=" "+e.two(this.date[3])+":"+e.two(this.date[4])+":"+e.two(this.date[5]))):n=e.two(this.date[3])+":"+e.two(this.date[4])+":"+e.two(this.date[5]);return n},o=function(){var t="";if(this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]){if(this.date[0]||this.date[1]||this.date[2]||this.date[3]||this.date[4]||this.date[5]){this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1);var n=e.calendar.now(this.date);t=e.calendar.dateToNum(n),this.date[4]&&(t+=parseFloat(this.date[4]/60))}}else t=-1!==this.mask.toLowerCase().indexOf("[h]")?parseInt(this.date[3]):parseInt(this.date[3])%24,this.date[4]&&(t+=parseFloat(this.date[4]/60)),t/=24;return t},a=function(e){return null===e||""===e||void 0===e},s=function(e){return"currency"===e||"percentage"===e||"numeric"===e},r=function(e){if(e&&Number(e)==e)return".";if(this.options.decimal)return this.options.decimal;if(this.locale){var t=Intl.NumberFormat(this.locale).format(1.1);return this.options.decimal=t[1]}return e||(e=this.mask),(t=new RegExp("0{1}(.{1})0+","ig").exec(e))&&t[1]&&1==t[1].length?(this.options.decimal=t[1],t[1]):((t=new RegExp("#{1}(.{1})#+","ig").exec(e))&&t[1]&&1==t[1].length?","===t[1]?this.options.decimal=".":this.options.decimal=",":this.options.decimal="1.1".toLocaleString().substring(1,2),this.options.decimal?this.options.decimal:null)},l=function(e,t){if(""==e)return"";t||(t=r.call(this));var n=(e=(""+e).split(t))[0].match(/[-]+/g);return n=!(!n||!n.length),e[0]=e[0].match(/[0-9]+/g),e[0]?(n&&e[0].unshift("-"),e[0]=e[0].join("")):n&&(e[0]="-"),e[0]||e[1]?(void 0!==e[1]&&(e[1]=e[1].match(/[0-9]+/g),e[1]?e[1]=e[1].join(""):e[1]=""),e):""},d=function(e,t){if(""==e)return"";var n=r.call(this),i=this.options;if(""==(e=l.call(this,e)))return"";if(e[0]){var o=parseFloat(e[0]+".1");"percent"==i.style&&(o/=100)}else o=null;if(("-"==e[0]||"-00"==e[0])&&!e[1]&&t&&"deleteContentBackward"==t.inputType)return"";var a=new Intl.NumberFormat(this.locale,i).format(o);if(void 0!==(a=a.split(n))[1]){var s=a[1].replace(/[0-9]*/g,"");s&&(a[2]=s)}return void 0!==e[1]?a[1]=n+e[1]:a[1]="",a.join("")},c=function(e,t){var n=h.call(e);if(n){r.call(this);var i=d.call(this,n,t),o=i.length-n.length,a=p.call(e)+o;h.call(e,i,a,!0)}},u=function(e){var t=l.call(this,e);return t?("-"===t[0]&&(t[0]="-0"),parseFloat(t.join("."))):null},p=function(e,t){if(void 0===e){if("DIV"==this.tagName){var n=0;return(s=window.getSelection())&&0!==s.rangeCount&&((o=(r=s.getRangeAt(0)).cloneRange()).selectNodeContents(this),o.setEnd(r.endContainer,r.endOffset),n=o.toString().length),n}return this.selectionStart}var i=h.call(this);if(t){for(var o=null,a=0;a<i.length;a++)(i[a].match(/[\-0-9]/g)||"."==i[a]||","==i[a])&&(o=a);null===o&&(o=i.indexOf(" ")),e>=o&&(e=o+1)}if(e>i.length&&(e=i.length),e)if("DIV"==this.tagName){var s=window.getSelection(),r=document.createRange();this.childNodes[0]&&(r.setStart(this.childNodes[0],e),s.removeAllRanges(),s.addRange(r))}else this.selectionStart=e,this.selectionEnd=e},h=function(e,t,n){if("DIV"==this.tagName){if(void 0===e)return e=this.innerText,this.value&&this.value.length>e.length&&(e=this.value),e;this.innerText!==e&&(this.innerText=e,t&&p.call(this,t,n))}else{if(void 0===e)return this.value;this.value!==e&&(this.value=e,t&&p.call(this,t,n))}},f=e.calendar.weekdays,m=e.calendar.weekdaysShort,v=e.calendar.months,g=e.calendar.monthsShort,x={YEAR:function(e,t){var n=""+(new Date).getFullYear();void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&parseInt(e)<=10&&this.values[this.index].length<t&&(this.values[this.index]+=e),this.values[this.index].length==t&&(2==t?n=n.substr(0,2)+this.values[this.index]:3==t?n=n.substr(0,1)+this.values[this.index]:4==t&&(n=this.values[this.index]),this.date[0]=n,this.index++)},YYYY:function(e){x.YEAR.call(this,e,4)},YYY:function(e){x.YEAR.call(this,e,3)},YY:function(e){x.YEAR.call(this,e,2)},FIND:function(e,t){if(a(this.values[this.index])&&(this.values[this.index]=""),this.event&&this.event.inputType&&this.event.inputType.indexOf("delete")>-1)this.values[this.index]+=e;else{for(var n=0,i=0,o=(this.values[this.index]+e).toLowerCase(),s=0;s<t.length;s++)0==t[s].toLowerCase().indexOf(o)&&(n=s,i++);if(i>1)this.values[this.index]+=e;else if(1==i){var r=t[n].length-this.values[this.index].length-1;return this.position+=r,this.values[this.index]=t[n],this.index++,n}}},MMM:function(e){var t=x.FIND.call(this,e,g);void 0!==t&&(this.date[1]=t+1)},MON:function(e){x.MMM.call(this,e)},MMMM:function(e){var t=x.FIND.call(this,e,v);void 0!==t&&(this.date[1]=t+1)},MONTH:function(e){x.MMMM.call(this,e)},MMMMM:function(e){a(this.values[this.index])&&(this.values[this.index]="");for(var t=(this.values[this.index]+e).toLowerCase(),n=0;n<v.length;n++)if(0==v[n][0].toLowerCase().indexOf(t)){this.values[this.index]=v[n][0],this.date[1]=n+1,this.index++;break}},MM:function(e){a(this.values[this.index])?parseInt(e)>1&&parseInt(e)<10?(this.date[1]=this.values[this.index]="0"+e,this.index++):parseInt(e)<2&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&parseInt(e)>0&&parseInt(e)<10)&&(this.date[1]=this.values[this.index]+=e,this.index++)},M:function(e){var t=!1;if(parseInt(e)>=0&&parseInt(e)<10?a(this.values[this.index])?(this.values[this.index]=e,e>1&&(this.date[1]=this.values[this.index],this.index++)):1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&parseInt(e)>0?(this.date[1]=this.values[this.index]+=e,this.index++):t=!0:t=!0,1==t){var n=parseInt(this.values[this.index]);n>0&&n<12&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},D:function(e){var t=!1;if(parseInt(e)>=0&&parseInt(e)<10?a(this.values[this.index])?(this.values[this.index]=e,parseInt(e)>3&&(this.date[2]=this.values[this.index],this.index++)):3==this.values[this.index]&&parseInt(e)<2||1==this.values[this.index]||2==this.values[this.index]||0==this.values[this.index]&&parseInt(e)>0?(this.date[2]=this.values[this.index]+=e,this.index++):t=!0:t=!0,1==t){var n=parseInt(this.values[this.index]);n>0&&n<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},DD:function(e){a(this.values[this.index])?parseInt(e)>3&&parseInt(e)<10?(this.date[2]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(3==this.values[this.index]&&parseInt(e)<2||(1==this.values[this.index]||2==this.values[this.index])&&parseInt(e)<10||0==this.values[this.index]&&parseInt(e)>0&&parseInt(e)<10)&&(this.date[2]=this.values[this.index]+=e,this.index++)},DDD:function(e){x.FIND.call(this,e,m)},DY:function(e){x.DDD.call(this,e)},DDDD:function(e){x.FIND.call(this,e,f)},DAY:function(e){x.DDDD.call(this,e)},HH12:function(e,t){a(this.values[this.index])?parseInt(e)>1&&parseInt(e)<10?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||this.values[this.index]<1&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++)},HH24:function(e,t){parseInt(e)>=0&&parseInt(e)<10&&(null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>2&&parseInt(e)<10?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(2==this.values[this.index]&&parseInt(e)<4||this.values[this.index]<2&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++))},HH:function(e){x.HH24.call(this,e,1)},H:function(e){x.HH24.call(this,e,0)},"\\[H\\]":function(e){null==this.values[this.index]&&(this.values[this.index]=""),e.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=e:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(e,t){null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>5&&parseInt(e)<10?(this.date[t]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):parseInt(e)<10&&(this.date[t]=this.values[this.index]+=e,this.index++)},MI:function(e){x.N60.call(this,e,4)},SS:function(e){x.N60.call(this,e,5)},"AM/PM":function(e){this.values[this.index]="",e&&(this.date[3]>12?this.values[this.index]="PM":this.values[this.index]="AM"),this.index++},WD:function(e){void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&parseInt(e)<7&&(this.values[this.index]=e),1==this.value[this.index].length&&this.index++},"0{1}(.{1}0+)?":function(e){var t=r.call(this),n=!1;a(this.values[this.index])?this.values[this.index]="":"-"==this.values[this.index]&&(n=!0);var i=l.call(this,this.values[this.index],t);i&&(this.values[this.index]=i.join(t)),parseInt(e)>=0&&parseInt(e)<10?("0"==this.values[this.index]&&e>0?this.values[this.index]="":"-0"==this.values[this.index]&&e>0&&(this.values[this.index]="-"),("0"!=this.values[this.index]&&"-0"!=this.values[this.index]||e==t)&&(this.values[this.index]+=e)):t&&e==t?-1==this.values[this.index].indexOf(t)&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=e):"-"==e&&(n=!0),!0===n&&"-"!==this.values[this.index][0]&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?%":function(e){x["0{1}(.{1}0+)?"].call(this,e),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&-1==this.values[this.index].indexOf("%")&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(e){x["0{1}(.{1}0+)?"].call(this,e);var t=r.call(this),n=this.tokens[this.index].substr(1,1),i="-"===this.values[this.index][0],o=l.call(this,this.values[this.index],t);if(""!==o){var a=o[0].match(/[0-9]/g);if(a){for(var s=[],d=0,c=(a=a.join("")).length-1;c>=0;c--)s.push(a[c]),++d%3||s.push(n);s=s.reverse(),o[0]=s.join(""),o[0].substr(0,1)==n&&(o[0]=o[0].substr(1))}else o[0]="";this.values[this.index]=o.join(t),i&&(this.values[this.index]="-"+this.values[this.index])}},0:function(e){e.match(/[0-9]/g)&&(this.values[this.index]=e,this.index++)},"[0-9a-zA-Z$]+":function(e){a(this.values[this.index])&&(this.values[this.index]="");var t=this.tokens[this.index];t[this.values[this.index].length]==e?(this.values[this.index]+=e,this.values[this.index]==t&&this.index++):(this.values[this.index]=t,this.index++,e.match(/[\-0-9]/g)&&this.position--)},A:function(e){e.match(/[a-zA-Z]/gi)&&(this.values[this.index]=e,this.index++)},".":function(e){x["[0-9a-zA-Z$]+"].call(this,e)},"@":function(e){a(this.values[this.index])&&(this.values[this.index]=""),this.values[this.index]+=e}},y=function(e){if("general"==this.type)var t=[].concat(n.general);else t=[].concat(n.currency,n.datetime,n.percentage,n.numeric,n.text,n.general);var i=new RegExp(t.join("|"),"gi");return e.match(i)},w=function(e){if(this.type)t="text"==this.type?["text"]:"general"==this.type?["general"]:"datetime"==this.type?["numeric","datetime","general"]:["currency","percentage","numeric","general"];else var t=Object.keys(n);for(var i=0;i<t.length;i++)for(var o=t[i],a=0;a<n[o].length;a++){var s=new RegExp(n[o][a],"gi");if(e.match(s))return{type:o,method:n[o][a]}}},b=function(e){for(var t=[],n=0;n<e.length;n++){var i=w.call(this,e[n]);i?t.push(i.method):t.push(null)}for(n=0;n<t.length;n++)"MM"==t[n]&&(t[n-1]&&t[n-1].indexOf("H")>=0||t[n-2]&&t[n-2].indexOf("H")>=0||t[n+1]&&t[n+1].indexOf("S")>=0||t[n+2]&&t[n+2].indexOf("S")>=0)&&(t[n]="MI");return t},L=function(e){var t=w.call(this,e);if(t)var n=t.type;if(n){for(var i=0,o=y.call(this,e),a=0;a<o.length;a++)(t=w.call(this,o[a]))&&s(t.type)&&i++;i>1&&(n="general")}return n},j=function(){"function"==typeof x[this.methods[this.index]]?(x[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)},C=(t=function(e){return"="==(""+e)[0]},function(e){return(""+ +e).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,(function(e,t,n,i,o){return o<0?t+"0."+Array(1-o-n.length).join(0)+n+i:t+n+i+Array(o-i.length+1).join(0)}))}),E=function(n,o,a){var l=null,f={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if("object"==typeof n){if(f.input=n.target,f.value=h.call(n.target),f.caret=p.call(n.target),(l=n.target.getAttribute("data-mask"))&&(f.mask=l),(l=n.target.getAttribute("data-type"))&&(f.type=l),n.target.mask?(n.target.mask.options&&(f.options=n.target.mask.options),n.target.mask.locale&&(f.locale=n.target.mask.locale)):(l=n.target.getAttribute("data-locale"))&&(f.locale=l,f.mask&&(f.options.style=f.mask)),n.target.attributes&&n.target.attributes.length)for(var m=0;m<n.target.attributes.length;m++){var v=n.target.attributes[m].name,g=n.target.attributes[m].value;"data"==v.substr(0,4)&&(f.options[v.substr(5)]=g)}}else{if("string"==typeof o)f.mask=o;else for(v=Object.keys(o),m=0;m<v.length;m++)f[v[m]]=o[v[m]];"number"==typeof n&&(r.call(f,f.mask),n=(""+n).replace(".",f.options.decimal)),f.value=n,f.input&&(h.call(f.input,n),e.focus(f.input),f.caret=p.call(f.input))}if(!t(f.value)&&(f.mask||f.locale)){if(f.mask){if(f.mask=f.mask.replace(new RegExp(/\[h]/),"|h|"),f.mask=f.mask.replace(new RegExp(/\[.*?\]/),""),f.mask=f.mask.replace(new RegExp(/\|h\|/),"[h]"),-1!==f.mask.indexOf(";")&&(l=f.mask.split(";"),f.mask=l[0]),-1!==f.mask.indexOf("##")){var x=f.mask.split(";");x[0]&&(x[0]=x[0].replace("*","\t"),x[0]=x[0].replace(new RegExp(/_-/g)," "),x[0]=x[0].replace(new RegExp(/_/g),""),x[0]=x[0].replace("##0.###","##0.000"),x[0]=x[0].replace("##0.##","##0.00"),x[0]=x[0].replace("##0.#","##0.0"),x[0]=x[0].replace("##0,###","##0,000"),x[0]=x[0].replace("##0,##","##0,00"),x[0]=x[0].replace("##0,#","##0,0")),f.mask=x[0]}f.type||(f.type=L.call(f,f.mask)),f.tokens=y.call(f,f.mask)}if("object"!=typeof n||!n.inputType||!n.inputType.indexOf("insert")||!n.inputType.indexOf("delete"))if(f.locale)if(f.input)c.call(f,f.input,n);else var C=d.call(f,f.value);else{for(f.methods=b.call(f,f.tokens),f.event=n;f.position<f.value.length&&void 0!==f.tokens[f.index];)j.call(f);if(C=f.values.join(""),s(f.type)&&""!==C){for(;void 0!==f.tokens[f.index];)(l=w.call(f,f.tokens[f.index]))&&"general"==l.type&&(f.values[f.index]=f.tokens[f.index]),f.index++;var E=!0}else E=!1;if(C=f.values.join(""),f.input){if((l=C.length-f.value.length)>0)var T=f.caret+l;else T=f.caret;h.call(f.input,C,T,E)}}if(f.input){var k=null;s(f.type)?(f.number=u.call(f,h.call(f.input)),k="percentage"==f.type?f.number/100:f.number):"datetime"==f.type&&(k=i.call(f),f.date[0]&&f.date[1]&&f.date[2]&&f.input.setAttribute("data-completed",!0)),k&&f.input.setAttribute("data-value",k)}if(void 0!==C)return a?f:C}};return E.getType=L,E.prepare=function(e,t){return t||(t={}),y.call(t,e)},E.apply=function(e){var t=h.call(e.target);1==e.key.length&&(t+=e.key),h.call(e.target,E(t,e.target.getAttribute("data-mask")))},E.run=function(e,t,n){return E(e,{mask:t,decimal:n})},E.extract=function(t,n,i){if(a(t))return t;if("object"!=typeof n)return c;if((n=Object.assign({},n)).options||(n.options={}),!n.mask&&n.format&&(n.mask=n.format),n.mask){if(-1!==n.mask.indexOf(";")){var s=n.mask.split(";");n.mask=s[0]}n.mask=n.mask.replace(new RegExp(/\[h]/),"|h|"),n.mask=n.mask.replace(new RegExp(/\[.*?\]/),""),n.mask=n.mask.replace(new RegExp(/\|h\|/),"[h]")}r.call(n,n.mask);var l=null;if("percent"==n.type||"percent"==n.options.style?l="percentage":n.mask&&(l=L.call(n,n.mask)),"general"===l){var d=E(t,n,!0);c=t}else if("datetime"===l)if(t instanceof Date&&(s=e.calendar.getDateString(c,n.mask)),d=E(t,n,!0),e.isNumeric(t))c=t;else var c=o.call(d);else c=u.call(n,t),"percentage"==l&&(c/=100),d=n;return d.value=c,!d.type&&l&&(d.type=l),i?d:c},E.render=function(t,n,i){if(a(t))return t;if("object"!=typeof n)return t;if((n=Object.assign({},n)).options||(n.options={}),!n.mask&&n.format&&(n.mask=n.format),n.mask){if(-1!==n.mask.indexOf(";")){var o=n.mask.split(";");n.mask=o[0]}n.mask=n.mask.replace(new RegExp(/\[h]/),"|h|"),n.mask=n.mask.replace(new RegExp(/\[.*?\]/),""),n.mask=n.mask.replace(new RegExp(/\|h\|/),"[h]")}var s=null;"percent"==n.type||"percent"==n.options.style?s="percentage":n.mask?s=L.call(n,n.mask):t instanceof Date&&(s="datetime");var l=!1;if("datetime"==s||"calendar"==n.type)(o=e.calendar.getDateString(t,n.mask))&&(t=o),n.mask&&i&&(l=!0);else if("percentage"==s&&(t*=100),"number"==typeof t){if(o=null,n.mask&&i&&-1===(""+t).indexOf("e")){var d=r.call(n,n.mask);-1!==n.mask.indexOf(d)?(d=(d=""+(d=n.mask.split(d))[1].match(/[0-9]+/g)).length,o=t.toFixed(d)):o=t.toFixed(0)}else if(n.locale&&i){if(d=(""+t).split("."),n.options){void 0===d[1]&&(d[1]="");var c=d[1].length;if(n.options.minimumFractionDigits>c)for(var u=0;u<n.options.minimumFractionDigits-c;u++)d[1]+="0"}o=d[1].length?d.join("."):d[0],c=d[1].length,n.options&&n.options.maximumFractionDigits<c&&(o=parseFloat(o).toFixed(n.options.maximumFractionDigits))}else o=C(t);null!==o&&(t=o,r.call(n,n.mask),n.options.decimal&&(t=t.replace(".",n.options.decimal)))}else n.mask&&i&&(l=!0);if(l){var p=n.mask.length-t.length;if(p>0)for(u=0;u<p;u++)t+=" "}if(t=E(t,n),i&&"numeric"===s){var h=n.mask.match(new RegExp(/^[0]+$/gm));if(h&&1===h.length){var f=h[0].length;if(f>3)for(t=""+t;t.length<f;)t="0"+t}}return t},E.set=function(e,t){if(t){e.setAttribute("data-mask",t);var n=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}},"undefined"!=typeof document&&document.addEventListener("input",(function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&E(e)})),E}(),e.notification=function(t){var n={options:{}},i={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var o in i)t&&t.hasOwnProperty(o)?n.options[o]=t[o]:n.options[o]=i[o];var a=document.createElement("div");a.className="jnotification",n.options.error&&a.classList.add("jnotification-error");var s=document.createElement("div");s.className="jnotification-container",a.appendChild(s);var r=document.createElement("div");r.className="jnotification-header",s.appendChild(r);var l=document.createElement("div");if(l.className="jnotification-image",r.appendChild(l),n.options.icon){var d=document.createElement("img");d.src=n.options.icon,l.appendChild(d)}var c=document.createElement("div");if(c.className="jnotification-name",c.innerHTML=n.options.name,r.appendChild(c),1==n.options.closeable){var u=document.createElement("div");u.className="jnotification-close",u.onclick=function(){n.hide()},r.appendChild(u)}var p=document.createElement("div");p.className="jnotification-date",r.appendChild(p);var h=document.createElement("div");if(h.className="jnotification-content",s.appendChild(h),n.options.title){var f=document.createElement("div");f.className="jnotification-title",f.innerHTML=n.options.title,h.appendChild(f)}var m=document.createElement("div");if(m.className="jnotification-message",m.innerHTML=n.options.message,h.appendChild(m),n.show=function(){document.body.appendChild(a),e.getWindowWidth()>800?e.animation.fadeIn(a):e.animation.slideTop(a,1)},n.hide=function(){e.getWindowWidth()>800?e.animation.fadeOut(a,(function(){a.parentNode&&(a.parentNode.removeChild(a),v&&clearTimeout(v))})):e.animation.slideTop(a,0,(function(){a.parentNode&&(a.parentNode.removeChild(a),v&&clearTimeout(v))}))},n.show(),1==n.options.autoHide)var v=setTimeout((function(){n.hide()}),n.options.timeout);return e.getWindowWidth()<800&&a.addEventListener("swipeup",(function(e){n.hide(),e.preventDefault(),e.stopPropagation()})),n},e.notification.isVisible=function(){var e=document.querySelector(".jnotification");return!(!e||!e.parentNode)},e.palette=(t={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"]]},(n=function(e){return t[e]?t[e]:t.material}).get=function(e){return t[e]?t[e]:t},n.set=function(e,n){t[e]=n},n),e.picker=function(t,n){if(t.picker)return t.picker.setOptions(n,!0);var i={type:"picker",options:{}},o=null,a=null,s=function(e){return e instanceof Element||e instanceof HTMLDocument};return i.setOptions=function(e,t){var n={value:0,data:null,render:null,onchange:null,onmouseover:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,bottom:!1,content:!1,columns:null,grid:null,height:null};for(var r in e&&e.options&&(e.data=e.options),n)e&&e.hasOwnProperty(r)?i.options[r]=e[r]:void 0!==i.options[r]&&!0!==t||(i.options[r]=n[r]);return!1===i.options.header?o.style.display="none":o.style.display="",i.options.width?o.style.width=parseInt(i.options.width)+"px":o.style.width="",i.options.height?(a.style.maxHeight=i.options.height+"px",a.style.overflow="scroll"):a.style.overflow="",i.options.columns>0&&(i.options.grid?(a.classList.add("jpicker-grid"),a.style.gridTemplateColumns="repeat("+i.options.grid+", 1fr)"):(a.classList.add("jpicker-columns"),a.style.width=i.options.width?i.options.width:36*i.options.columns+"px")),isNaN(i.options.value)&&(i.options.value="0"),function(){a.innerHTML="";for(var e=Object.keys(i.options.data),t=0;t<e.length;t++){var n=document.createElement("div");n.classList.add("jpicker-item"),n.k=e[t],n.v=i.options.data[e[t]];var o=i.getLabel(e[t],n);s(o)?n.appendChild(o):n.innerHTML=o,a.appendChild(n)}}(),i.setValue(i.options.value),i},i.getValue=function(){return i.options.value},i.setValue=function(e){i.setLabel(e),i.options.value=String(e),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value})),"generic"!==a.children[e].getAttribute("type")&&i.close()},i.getLabel=function(e,t){var n=i.options.data[e]||null;return"function"==typeof i.options.render&&(n=i.options.render(n,t)),n},i.setLabel=function(e){var t;t=i.options.content?'<i class="material-icons">'+i.options.content+"</i>":i.getLabel(e,null),s(t)?(o.innerHTML="",o.appendChild(t)):o.innerHTML=t},i.open=function(){if(!t.classList.contains("jpicker-focus")){e.tracking(i,!0),t.classList.add("jpicker-focus"),t.focus();var n,s=0;a.style.marginLeft="";var r=o.getBoundingClientRect(),l=a.getBoundingClientRect();n=window.innerHeight<r.bottom+l.height||i.options.bottom?-1*(l.height+4):r.height+4,!0===i.options.right&&(s=-1*l.width+r.width),l.left+s<0&&(s=s+l.left+10),l.left+l.width>window.innerWidth&&(s=-1*(10+l.left+l.width-window.innerWidth)),a.style.marginTop=parseInt(n)+"px",a.style.marginLeft=parseInt(s)+"px","function"==typeof i.options.onopen&&i.options.onopen(t,i)}},i.close=function(){t.classList.contains("jpicker-focus")&&(t.classList.remove("jpicker-focus"),e.tracking(i,!1),"function"==typeof i.options.onclose&&i.options.onclose(t,i))},t.classList.add("jpicker"),t.setAttribute("tabindex","900"),t.onmousedown=function(e){t.classList.contains("jpicker-focus")||i.open()},(o=document.createElement("div")).classList.add("jpicker-header"),(a=document.createElement("div")).classList.add("jpicker-content"),a.onclick=function(n){var o=e.findElement(n.target,"jpicker-item");o&&o.parentNode===a&&(i.setValue(o.k),"function"==typeof i.options.onchange&&i.options.onchange.call(i,t,i,o.v,o.v,o.k,n))},t.appendChild(o),t.appendChild(a),t.value=n.value||0,i.setOptions(n),"function"==typeof i.options.onload&&i.options.onload(t,i),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.picker=i,i},e.rating=function(e,t){if(e.rating)return e.rating.setOptions(t,!0);var n={options:{},setOptions:function(t,i){var o={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var a in o)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:void 0!==n.options[a]&&!0!==i||(n.options[a]=o[a]);e.innerHTML="";for(var s=0;s<n.options.number;s++){var r=document.createElement("div");r.setAttribute("data-index",s+1),r.setAttribute("title",n.options.tooltip[s]),e.appendChild(r)}if(n.options.value)for(s=0;s<n.options.number;s++)s<n.options.value&&e.children[s].classList.add("jrating-selected");return n},setValue:function(t){for(var i=0;i<n.options.number;i++)i<t?e.children[i].classList.add("jrating-selected"):(e.children[i].classList.remove("jrating-over"),e.children[i].classList.remove("jrating-selected"));n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value}))},getValue:function(){return n.options.value}};return n.setOptions(t),e.classList.add("jrating"),e.addEventListener("click",(function(e){var t=e.target.getAttribute("data-index");null!=t&&(t==n.options.value?n.setValue(0):n.setValue(t))})),e.addEventListener("mouseover",(function(t){for(var i=t.target.getAttribute("data-index"),o=0;o<n.options.number;o++)o<i?e.children[o].classList.add("jrating-over"):e.children[o].classList.remove("jrating-over")})),e.addEventListener("mouseout",(function(t){for(var i=0;i<n.options.number;i++)e.children[i].classList.remove("jrating-over")})),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.rating=n,n},e.sorting=function(e,t){var n={options:{}},i={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},o=null;for(var a in i)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:n.options[a]=i[a];e.classList.add("jsorting"),e.addEventListener("dragstart",(function(t){var i=Array.prototype.indexOf.call(t.target.parentNode.children,t.target);o={element:t.target,o:i,d:i},t.target.style.opacity="0.25","function"==typeof n.options.ondragstart&&n.options.ondragstart(e,t.target,t)})),e.addEventListener("dragover",(function(e){if(e.preventDefault(),s(e.target)&&o&&"true"==e.target.getAttribute("draggable")&&o.element!=e.target){if(n.options.direction)t=e.target.clientWidth/2>e.offsetX;else var t=e.target.clientHeight/2>e.offsetY;t?e.target.parentNode.insertBefore(o.element,e.target):e.target.parentNode.insertBefore(o.element,e.target.nextSibling),o.d=Array.prototype.indexOf.call(e.target.parentNode.children,o.element)}})),e.addEventListener("dragleave",(function(e){e.preventDefault()})),e.addEventListener("dragend",(function(t){t.preventDefault(),o&&("function"==typeof n.options.ondragend&&n.options.ondragend(e,o.element,t),o.o<o.d?t.target.parentNode.insertBefore(o.element,t.target.parentNode.children[o.o]):t.target.parentNode.insertBefore(o.element,t.target.parentNode.children[o.o].nextSibling),o.element.style.opacity="",o=null)})),e.addEventListener("drop",(function(t){t.preventDefault(),o&&o.o!=o.d&&"function"==typeof n.options.ondrop&&n.options.ondrop(e,o.o,o.d,o.element,t.target,t),o.element.style.opacity="",o=null}));for(var s=function(e){var t=!1;return function e(n){n.className&&n.classList.contains("jsorting")&&(t=!0),t||e(n.parentNode)}(e),t},r=0;r<e.children.length;r++)e.children[r].hasAttribute("draggable")||e.children[r].setAttribute("draggable","true");return e.val=function(){for(var t=null,n=[],i=0;i<e.children.length;i++)(t=e.children[i].getAttribute("data-id"))&&n.push(t);return n},e},e.tabs=function(t,n){var i={options:{}},o={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];t.classList.add("jtabs");var s=null,r=null,l=null,d=function(e){i.options.animation&&setTimeout((function(){var t=i.headers.children[e].getBoundingClientRect();"modern"==i.options.palette?(l.style.width=t.width-4+"px",l.style.left=i.headers.children[e].offsetLeft+2+"px"):(l.style.width=t.width+"px",l.style.left=i.headers.children[e].offsetLeft+"px"),"bottom"==i.options.position?l.style.top="0px":l.style.bottom="0px"}),150)},c=function(e){"function"==typeof i.headers.scrollTo?i.headers.scrollTo({left:e,behavior:"smooth"}):i.headers.scrollLeft=e,e<=1?s.classList.add("disabled"):s.classList.remove("disabled"),e>=i.headers.scrollWidth-i.headers.offsetWidth?r.classList.add("disabled"):r.classList.remove("disabled"),i.headers.scrollWidth<=i.headers.offsetWidth?(s.style.display="none",r.style.display="none"):(s.style.display="",r.style.display="")};if(i.setBorder=d,i.open=function(e){for(var n=null,o=0;o<i.headers.children.length;o++)i.headers.children[o].classList.contains("jtabs-selected")&&(n=o),i.headers.children[o].classList.remove("jtabs-selected"),i.content.children[o]&&i.content.children[o].classList.remove("jtabs-selected");if(i.headers.children[e].classList.add("jtabs-selected"),i.content.children[e]&&i.content.children[e].classList.add("jtabs-selected"),n!=e&&"function"==typeof i.options.onchange&&i.content.children[e]&&i.options.onchange(t,i,e,i.headers.children[e],i.content.children[e]),1==i.options.hideHeaders&&i.headers.children.length<3&&0==i.options.allowCreate)i.headers.parentNode.style.display="none";else{d(e),i.headers.parentNode.style.display="";var a=i.headers.children[e].offsetLeft,s=a+i.headers.children[e].offsetWidth,r=i.headers.scrollLeft,l=r+i.headers.offsetWidth;r<=a&&l>=s||c(a-1)}},i.selectIndex=function(e){var t=Array.prototype.indexOf.call(i.headers.children,e);return t>=0&&i.open(t),t},i.rename=function(e,t){t||(t=prompt("New title",i.headers.children[e].innerText)),i.headers.children[e].innerText=t,i.open(e)},i.create=function(e,n){if("function"==typeof i.options.onbeforecreate){var o=i.options.onbeforecreate(t);if(!1===o)return!1;e=o}var a=i.appendElement(e);return"function"==typeof i.options.oncreate&&i.options.oncreate(t,a),d(),a},i.remove=function(e){return i.deleteElement(e)},i.nextNumber=function(){for(var e=0,t=0;t<i.headers.children.length;t++){var n=i.headers.children[t].innerText.match(/[0-9].*/);n>e&&(e=parseInt(n))}return e?e++:e=1,e},i.deleteElement=function(e){if(!i.headers.children[e])return!1;i.headers.removeChild(i.headers.children[e]),i.content.removeChild(i.content.children[e]),i.open(0),"function"==typeof i.options.ondelete&&i.options.ondelete(t,e)},i.appendElement=function(e,t){if(e||(e=prompt("Title?","")),e){var n=document.createElement("div");i.content.appendChild(n);var o=document.createElement("div");return o.innerHTML=e,o.content=n,i.headers.insertBefore(o,i.headers.lastChild),i.options.allowChangePosition&&o.setAttribute("draggable","true"),i.selectIndex(o),"function"==typeof t&&t(n,o),n}},i.getActive=function(){for(var e=0;e<i.headers.children.length;e++)if(i.headers.children[e].classList.contains("jtabs-selected"))return e;return 0},i.updateContent=function(e,t){"string"!=typeof t||(document.createElement("div").innerHTML=t),i.content.children[e].classList.contains("jtabs-selected")&&t.classList.add("jtabs-selected"),i.content.replaceChild(t,i.content.children[e]),d()},i.updatePosition=function(e,t){e>t?i.content.insertBefore(i.content.children[e],i.content.children[t]):i.content.insertBefore(i.content.children[e],i.content.children[t].nextSibling),i.open(t),"function"==typeof i.options.onchangeposition&&i.options.onchangeposition(i.headers,e,t)},i.move=function(e,t){e>t?i.headers.insertBefore(i.headers.children[e],i.headers.children[t]):i.headers.insertBefore(i.headers.children[e],i.headers.children[t].nextSibling),i.updatePosition(e,t)},i.setBorder=d,i.init=function(){t.innerHTML="",i.headers=document.createElement("div"),i.content=document.createElement("div"),i.headers.classList.add("jtabs-headers"),i.content.classList.add("jtabs-content"),i.options.palette?t.classList.add("jtabs-modern"):t.classList.remove("jtabs-modern"),i.options.padding&&(i.content.style.padding=parseInt(i.options.padding)+"px");var n=document.createElement("div");n.className="jtabs-headers-container",n.appendChild(i.headers),i.options.maxWidth&&(n.style.maxWidth=parseInt(i.options.maxWidth)+"px");var o=document.createElement("div");if(o.className="jtabs-controls",o.setAttribute("draggable","false"),n.appendChild(o),"bottom"==i.options.position?(t.appendChild(i.content),t.appendChild(n)):(t.appendChild(n),t.appendChild(i.content)),1==i.options.allowCreate){var a=document.createElement("div");a.className="jtabs-add",a.onclick=function(){i.create()},o.appendChild(a)}(s=document.createElement("div")).className="jtabs-prev",s.onclick=function(){c(i.headers.scrollLeft-i.headers.offsetWidth)},o.appendChild(s),(r=document.createElement("div")).className="jtabs-next",r.onclick=function(){c(i.headers.scrollLeft+i.headers.offsetWidth)},o.appendChild(r);for(var d=0;d<i.options.data.length;d++){if(i.options.data[d].titleElement)var u=i.options.data[d].titleElement;else u=document.createElement("div");if(i.options.data[d].icon){var p=document.createElement("div"),h=document.createElement("i");h.classList.add("material-icons"),h.innerHTML=i.options.data[d].icon,p.appendChild(h),u.appendChild(p)}if(i.options.data[d].title){var f=document.createTextNode(i.options.data[d].title);u.appendChild(f)}if(i.options.data[d].width&&(u.style.width=i.options.data[d].width),i.options.data[d].contentElement)var m=i.options.data[d].contentElement;else(m=document.createElement("div")).innerHTML=i.options.data[d].content;i.headers.appendChild(u),i.content.appendChild(m)}(l=document.createElement("div")).className="jtabs-border",i.headers.appendChild(l),i.options.animation&&t.classList.add("jtabs-animation"),i.headers.addEventListener("click",(function(e){if(e.target.parentNode.classList.contains("jtabs-headers"))var n=e.target;else n="I"==e.target.tagName?e.target.parentNode.parentNode:e.target.parentNode;var o=i.selectIndex(n);"function"==typeof i.options.onclick&&i.options.onclick(t,i,o,i.headers.children[o],i.content.children[o])})),i.headers.addEventListener("contextmenu",(function(e){i.selectIndex(e.target)})),i.headers.children.length&&i.open(0),c(0),1==i.options.allowChangePosition&&e.sorting(i.headers,{direction:1,ondrop:function(e,t,n){i.updatePosition(t,n)}}),"function"==typeof i.options.onload&&i.options.onload(t,i)},t.children[0]&&t.children[0].children.length)for(var u=0;u<t.children[0].children.length;u++){var p=i.options.data&&i.options.data[u]?i.options.data[u]:{};t.children[1]&&t.children[1].children[u]?(p.titleElement=t.children[0].children[u],p.contentElement=t.children[1].children[u]):p.contentElement=t.children[0].children[u],i.options.data[u]=p}var h=!1;if(i.options.data)for(u=0;u<i.options.data.length;u++)i.options.data[u].url&&(e.ajax({url:i.options.data[u].url,type:"GET",dataType:"text/html",index:u,success:function(e){i.options.data[this.index].content=e},complete:function(){i.init()}}),h=!0);return h||i.init(),t.tabs=i,i},e.toolbar=function(t,n){var i={type:"toolbar",options:{}},o={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];!t&&n.app&&n.app.el&&(t=document.createElement("div"),n.app.el.appendChild(t));var s=document.createElement("div");s.classList.add("jtoolbar-item"),s.classList.add("jtoolbar-arrow");var r=document.createElement("div");r.classList.add("jtoolbar-floating"),s.appendChild(r),i.selectItem=function(e){for(var t=l.children,n=0;n<t.length;n++)e!=t[n]&&t[n].classList.remove("jtoolbar-selected");e.classList.add("jtoolbar-selected")},i.hide=function(){e.animation.slideBottom(t,0,(function(){t.style.display="none"}))},i.show=function(){t.style.display="",e.animation.slideBottom(t,1)},i.get=function(){return t},i.setBadge=function(e,t){l.children[e].children[1].firstChild.innerHTML=t},i.destroy=function(){toolbar.remove(),t.innerHTML=""},i.update=function(e,n){for(var o=0;o<l.children.length;o++)"function"==typeof(a=l.children[o]).updateState&&a.updateState(t,i,a,e,n);for(o=0;o<r.children.length;o++){var a;"function"==typeof(a=r.children[o]).updateState&&a.updateState(t,i,a,e,n)}},i.create=function(n){l.innerHTML="";for(var o=0;o<n.length;o++){var a=document.createElement("div");if(a.classList.add("jtoolbar-item"),n[o].width&&(a.style.width=parseInt(n[o].width)+"px"),n[o].k&&(a.k=n[o].k),n[o].tooltip&&a.setAttribute("title",n[o].tooltip),n[o].id&&a.setAttribute("id",n[o].id),n[o].updateState&&(a.updateState=n[o].updateState),n[o].active&&a.classList.add("jtoolbar-active"),n[o].disabled&&a.classList.add("jtoolbar-disabled"),"select"==n[o].type||"dropdown"==n[o].type)e.picker(a,n[o]);else if("divisor"==n[o].type)a.classList.add("jtoolbar-divisor");else if("label"==n[o].type)a.classList.add("jtoolbar-label"),a.innerHTML=n[o].content;else{var s=document.createElement("i");if(void 0===n[o].class)s.classList.add("material-icons");else for(var r=n[o].class.split(" "),d=0;d<r.length;d++)s.classList.add(r[d]);if(s.innerHTML=n[o].content?n[o].content:"",a.appendChild(s),1==i.options.badge){var c=document.createElement("div");c.classList.add("jbadge");var u=document.createElement("div");u.innerHTML=n[o].badge?n[o].badge:"",c.appendChild(u),a.appendChild(c)}if(n[o].title)if(1==i.options.title){var p=document.createElement("span");p.innerHTML=n[o].title,a.appendChild(p)}else a.setAttribute("title",n[o].title);i.options.app&&n[o].route&&(a.route=n[o].route,a.onclick=function(){i.options.app.pages(this.route)},i.options.app.pages(n[o].route,{toolbarItem:a,closed:!0}))}n[o].onclick&&(a.onclick=n[o].onclick.bind(n[o],t,i,a)),l.appendChild(a)}setTimeout((function(){i.refresh()}),0)},i.open=function(){s.classList.add("jtoolbar-arrow-selected"),t.getBoundingClientRect(),r.getBoundingClientRect().bottom>window.innerHeight||i.options.bottom?r.style.bottom="0":r.style.removeProperty("bottom"),r.style.right="0",s.children[0].focus(),e.tracking(i,!0)},i.close=function(){s.classList.remove("jtoolbar-arrow-selected"),e.tracking(i,!1)},i.refresh=function(){if(1==i.options.responsive){var e=t.parentNode.getBoundingClientRect();i.options.maxWidth||(i.options.maxWidth=e.width);var n=parseInt(i.options.maxWidth);for(s.parentNode&&s.parentNode.removeChild(s);r.firstChild;)l.appendChild(r.firstChild);if(n<l.offsetWidth)for(n-=50;l.lastChild&&n<l.offsetWidth;)r.insertBefore(l.lastChild,r.firstChild);r.children.length>0&&l.appendChild(s)}},i.setReadonly=function(e){e=e?"add":"remove",t.classList[e]("jtoolbar-disabled")},t.onclick=function(t){var n=e.findElement(t.target,"jtoolbar-item");n&&i.selectItem(n),t.target.classList.contains("jtoolbar-arrow")&&i.open()},window.addEventListener("resize",(function(){i.refresh()})),t.classList.add("jtoolbar"),t.innerHTML="",1==i.options.container&&t.classList.add("jtoolbar-container");var l=document.createElement("div");return t.appendChild(l),i.options.app&&t.classList.add("jtoolbar-mobile"),i.create(i.options.items),t.toolbar=i,i},e}();